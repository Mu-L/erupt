"use strict";(self.webpackChunkerupt=self.webpackChunkerupt||[]).push([[756],{6756:(nr,ie,c)=>{c.r(ie),c.d(ie,{FlowModule:()=>er});var d=c(4341),Se=c(1626),D=c(1391),y=c(513),h=c(1011),$=c(6122),Q=c(7094),g=c(1951),f=c(8203),l=c(177),e=c(7705);class ke{constructor(s,t){this._document=t;const o=this._textarea=this._document.createElement("textarea"),i=o.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",o.setAttribute("aria-hidden","true"),o.value=s,o.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(o)}copy(){const s=this._textarea;let t=!1;try{if(s){const o=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),t=this._document.execCommand("copy"),o&&o.focus()}}catch{}return t}destroy(){const s=this._textarea;s&&(s.remove(),this._textarea=void 0)}}let Ie=(()=>{class n{constructor(t){this._document=t}copy(t){const o=this.beginCopy(t),i=o.copy();return o.destroy(),i}beginCopy(t){return new ke(t,this._document)}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ee=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({})}}return n})();var F=c(6860),M=c(7806);let re=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275dir=e.FsC({type:n,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(o,i){2&o&&e.xc7("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}}return n})(),De=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[l.MD]})}}return n})();var R=c(7232),P=c(5154),W=c(1413),Fe=c(4412),Z=c(1985),j=c(3726),se=c(983),Re=c(6648),ae=c(8359),C=c(6977),K=c(5558),je=c(6697),ce=c(3993),v=c(7336),T=c(1025),z=c(1635),k=c(6042),le=c(4500),u=c(317);function Be(n,s){if(1&n&&(e.qex(0),e.nrm(1,"span",2),e.bVm()),2&n){const t=s.$implicit;e.R7$(1),e.Y8G("nzType",t)}}const Ge=["textarea"];function Ve(n,s){if(1&n){const t=e.RV6();e.j41(0,"textarea",2,3),e.bIt("blur",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.confirm())}),e.k0s(),e.j41(2,"button",4),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.confirm())}),e.nrm(3,"span",5),e.k0s()}}function $e(n,s){if(1&n&&(e.qex(0),e.nrm(1,"span",8),e.bVm()),2&n){const t=s.$implicit;e.R7$(1),e.Y8G("nzType",t)}}function Ae(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onClick())}),e.DNE(1,$e,2,1,"ng-container",7),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("nzTooltipTitle",null===t.tooltip?null:t.tooltip||(null==t.locale?null:t.locale.edit)),e.R7$(1),e.Y8G("nzStringTemplateOutlet",t.icon)}}const Le=["ellipsisContainer"],Xe=["expandable"],Ye=["contentTemplate"];function He(n,s){1&n&&e.SdG(0,0,["*ngIf","!content"])}function Ue(n,s){if(1&n&&(e.DNE(0,He,1,0,"ng-content",1),e.EFF(1)),2&n){const t=s.content;e.Y8G("ngIf",!t),e.R7$(1),e.SpI(" ",t," ")}}function Qe(n,s){}function We(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.nzSuffix)}}const Ze=function(n){return{content:n}};function Ke(n,s){if(1&n&&(e.qex(0),e.DNE(1,Qe,0,0,"ng-template",6),e.DNE(2,We,2,1,"ng-container",1),e.bVm()),2&n){const t=e.XpG(2),o=e.sdS(1);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(3,Ze,t.nzContent)),e.R7$(1),e.Y8G("ngIf",t.nzSuffix)}}function Je(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.ellipsisStr)}}function qe(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.nzSuffix)}}function et(n,s){if(1&n){const t=e.RV6();e.j41(0,"a",9,10),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.onExpand())}),e.EFF(2),e.k0s()}if(2&n){const t=e.XpG(3);e.R7$(2),e.SpI(" ",null==t.locale?null:t.locale.expand," ")}}function tt(n,s){if(1&n&&(e.nrm(0,"span",null,7),e.DNE(2,Je,2,1,"ng-container",1),e.DNE(3,qe,2,1,"ng-container",1),e.DNE(4,et,3,1,"a",8)),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.isEllipsis),e.R7$(1),e.Y8G("ngIf",t.nzSuffix),e.R7$(1),e.Y8G("ngIf",t.nzExpandable&&t.isEllipsis)}}function nt(n,s){if(1&n&&(e.qex(0),e.DNE(1,Ke,3,5,"ng-container",4),e.DNE(2,tt,5,3,"ng-template",null,5,e.C5r),e.bVm()),2&n){const t=e.sdS(3),o=e.XpG();e.R7$(1),e.Y8G("ngIf",o.expanded||!o.hasOperationsWithEllipsis&&1===o.nzEllipsisRows&&!o.hasEllipsisObservers||o.canCssEllipsis||o.nzSuffix&&o.expanded)("ngIfElse",t)}}function ot(n,s){if(1&n){const t=e.RV6();e.j41(0,"nz-text-edit",11),e.bIt("endEditing",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onEndEditing(i))})("startEditing",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onStartEditing())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function it(n,s){if(1&n){const t=e.RV6();e.j41(0,"nz-text-copy",12),e.bIt("textCopy",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onTextCopy(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}const rt=["*"];let pe=(()=>{class n{constructor(t,o,i,r){this.host=t,this.cdr=o,this.clipboard=i,this.i18n=r,this.copied=!1,this.copyId=-1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new W.B,this.icons=["copy","check"],this.textCopy=new e.bkB}ngOnInit(){this.i18n.localeChange.pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){const{tooltips:o,icons:i}=t;o&&this.updateTooltips(),i&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();const t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(null===this.tooltips)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){const[t,o]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=o||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){const[t,o]=this.icons;this.copyIcon=t,this.copedIcon=o,this.cdr.markForCheck()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Ie),e.rXU(R.Og))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[e.OA$],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(o,i){1&o&&(e.j41(0,"button",0),e.bIt("click",function(){return i.onClick()}),e.DNE(1,Be,2,1,"ng-container",1),e.k0s()),2&o&&(e.AVh("ant-typography-copy-success",i.copied),e.Y8G("nzTooltipTitle",i.copied?i.copedTooltip:i.copyTooltip),e.R7$(1),e.Y8G("nzStringTemplateOutlet",i.copied?i.copedIcon:i.copyIcon))},dependencies:[g.Dn,P.LH,re,M.m],encapsulation:2,changeDetection:0})}}return n})(),de=(()=>{class n{set textarea(t){this.textarea$.next(t)}constructor(t,o,i,r,a){this.ngZone=t,this.host=o,this.cdr=i,this.i18n=r,this.destroy$=a,this.editing=!1,this.icon="edit",this.startEditing=new e.bkB,this.endEditing=new e.bkB(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new Fe.t(null)}ngOnInit(){this.i18n.localeChange.pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe((0,K.n)(t=>t?new Z.c(o=>this.ngZone.runOutsideAngular(()=>(0,j.R)(t.nativeElement,"keydown").subscribe(o))):se.w),(0,C.Q)(this.destroy$)).subscribe(t=>{t.keyCode!==v._f&&t.keyCode!==v.Fm||this.ngZone.run(()=>{t.keyCode===v._f?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe((0,K.n)(t=>t?new Z.c(o=>this.ngZone.runOutsideAngular(()=>(0,j.R)(t.nativeElement,"input").subscribe(o))):se.w),(0,C.Q)(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){const t=this.ngZone.isStable?(0,Re.H)(Promise.resolve()):this.ngZone.onStable.pipe((0,je.s)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,ce.E)(this.textarea$),(0,C.Q)(this.destroy$)).subscribe(([,o])=>{o&&(o.nativeElement.focus(),o.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck())})})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(R.Og),e.rXU(T.y4))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-text-edit"]],viewQuery:function(o,i){if(1&o&&(e.GBs(Ge,5),e.GBs(h.c9,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.textarea=r.first),e.mGM(r=e.lsd())&&(i.autosizeDirective=r.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],features:[e.Jv_([T.y4])],decls:3,vars:2,consts:[[3,"ngIf","ngIfElse"],["notEditing",""],["nz-input","","nzAutosize","",3,"blur"],["textarea",""],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(o,i){if(1&o&&(e.DNE(0,Ve,4,0,"ng-template",0),e.DNE(1,Ae,2,2,"ng-template",null,1,e.C5r)),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.editing)("ngIfElse",r)}},dependencies:[l.bT,g.Dn,P.LH,h.Sy,h.c9,re,M.m],encapsulation:2,changeDetection:0})}}return n})(),ct=(()=>{class n{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return"string"==typeof this.nzCopyText?this.nzCopyText:this.nzContent}constructor(t,o,i,r,a,p,m,_,x,U){this.nzConfigService=t,this.host=o,this.cdr=i,this.viewContainerRef=r,this.renderer=a,this.platform=p,this.i18n=m,this.resizeService=x,this.directionality=U,this._nzModuleName="typography",this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new e.bkB,this.nzCopy=new e.bkB,this.nzExpandChange=new e.bkB,this.nzOnEllipsis=new e.bkB,this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new W.B,this.windowResizeSubscription=ae.yU.EMPTY,this.document=_}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return!(this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers)&&(0,u.Fq)(1===this.nzEllipsisRows?"textOverflow":"webkitLineClamp")}renderOnNextFrame(){(0,le.F)(this.rfaId),this.viewInit&&this.nzEllipsis&&!(this.nzEllipsisRows<0)&&!this.expanded&&this.platform.isBrowser&&(this.rfaId=(0,le.j)(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){const t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;const{viewRef:t,removeView:o}=this.getOriginContentViewRef(),i=[this.textCopyRef,this.textEditRef].filter(x=>x&&x.nativeElement).map(x=>x.nativeElement),r=this.getExpandableBtnElement();r&&i.push(r);const{contentNodes:a,text:p,ellipsis:m}=(0,u.xP)(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,i,this.ellipsisStr,this.nzSuffix);o(),this.ellipsisText=p,m!==this.isEllipsis&&(this.isEllipsis=m,this.nzOnEllipsis.emit(m));const _=this.ellipsisContainer.nativeElement;for(;_.firstChild;)this.renderer.removeChild(_,_.firstChild);a.forEach(x=>{this.renderer.appendChild(_,x.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){const t=this.locale?this.locale.expand:"",o=this.expandableBtnElementCache;if(!o||o.innerText===t){const i=this.document.createElement("a");i.className="ant-typography-expand",i.innerText=t,this.expandableBtnElementCache=i}return this.expandableBtnElementCache}return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe((0,C.Q)(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe((0,C.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){const{nzCopyable:o,nzEditable:i,nzExpandable:r,nzEllipsis:a,nzContent:p,nzEllipsisRows:m,nzSuffix:_}=t;(o||i||r||a||p||m||_)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(k.yx),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(e.sFG),e.rXU(F.OD),e.rXU(R.Og),e.rXU(l.qQ),e.rXU(T.cB),e.rXU(f.dS,8))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(o,i){if(1&o&&(e.GBs(de,5),e.GBs(pe,5),e.GBs(Le,5),e.GBs(Xe,5),e.GBs(Ye,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.textEditRef=r.first),e.mGM(r=e.lsd())&&(i.textCopyRef=r.first),e.mGM(r=e.lsd())&&(i.ellipsisContainer=r.first),e.mGM(r=e.lsd())&&(i.expandableBtn=r.first),e.mGM(r=e.lsd())&&(i.contentTemplate=r.first)}},hostVars:26,hostBindings:function(o,i){2&o&&(e.xc7("-webkit-line-clamp",i.canCssEllipsis&&i.nzEllipsisRows>1?i.nzEllipsisRows:null),e.AVh("ant-typography",!i.editing)("ant-typography-rtl","rtl"===i.dir)("ant-typography-edit-content",i.editing)("ant-typography-secondary","secondary"===i.nzType)("ant-typography-warning","warning"===i.nzType)("ant-typography-danger","danger"===i.nzType)("ant-typography-success","success"===i.nzType)("ant-typography-disabled",i.nzDisabled)("ant-typography-ellipsis",i.nzEllipsis&&!i.expanded)("ant-typography-single-line",i.nzEllipsis&&1===i.nzEllipsisRows)("ant-typography-ellipsis-single-line",i.canCssEllipsis&&1===i.nzEllipsisRows)("ant-typography-ellipsis-multiple-line",i.canCssEllipsis&&i.nzEllipsisRows>1))},inputs:{nzCopyable:"nzCopyable",nzEditable:"nzEditable",nzDisabled:"nzDisabled",nzExpandable:"nzExpandable",nzEllipsis:"nzEllipsis",nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:"nzEllipsisRows",nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[e.OA$],ngContentSelectors:rt,decls:5,vars:3,consts:[["contentTemplate",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],["jsEllipsis",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ellipsisContainer",""],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],["expandable",""],[3,"text","icon","tooltip","endEditing","startEditing"],[3,"text","tooltips","icons","textCopy"]],template:function(o,i){1&o&&(e.NAR(),e.DNE(0,Ue,2,2,"ng-template",null,0,e.C5r),e.DNE(2,nt,4,2,"ng-container",1),e.DNE(3,ot,1,3,"nz-text-edit",2),e.DNE(4,it,1,3,"nz-text-copy",3)),2&o&&(e.R7$(2),e.Y8G("ngIf",!i.editing),e.R7$(1),e.Y8G("ngIf",i.nzEditable),e.R7$(1),e.Y8G("ngIf",i.nzCopyable&&!i.editing))},dependencies:[l.bT,l.T3,pe,de],encapsulation:2,changeDetection:0})}}return(0,z.Cg)([(0,u.H3)()],n.prototype,"nzCopyable",void 0),(0,z.Cg)([(0,u.H3)()],n.prototype,"nzEditable",void 0),(0,z.Cg)([(0,u.H3)()],n.prototype,"nzDisabled",void 0),(0,z.Cg)([(0,u.H3)()],n.prototype,"nzExpandable",void 0),(0,z.Cg)([(0,u.H3)()],n.prototype,"nzEllipsis",void 0),(0,z.Cg)([(0,k.H4)()],n.prototype,"nzCopyTooltips",void 0),(0,z.Cg)([(0,k.H4)()],n.prototype,"nzCopyIcons",void 0),(0,z.Cg)([(0,k.H4)()],n.prototype,"nzEditTooltip",void 0),(0,z.Cg)([(0,k.H4)()],n.prototype,"nzEditIcon",void 0),(0,z.Cg)([(0,k.H4)(),(0,u.YI)()],n.prototype,"nzEllipsisRows",void 0),n})(),lt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,g.Y3,P.Qt,h.j,R.bP,De,Ee,M.C,F.IK]})}}return n})();var A=c(8927),J=c(1997),ge=c(2986),pt=c(3190),dt=c(8960),gt=c(2513),_t=c(7481),mt=c(1166),ut=c(4327),ht=c(2358),L=c(2096),ft=c(2874),q=c(1236),Ct=c(5703),zt=c(9448);let bt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD]})}}return n})();var ee=c(7529),Ot=c(9327);let wt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,g.Y3,Ot.RH,F.IK]})}}return n})();var St=c(1868);let At=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,M.C,g.Y3]})}}return n})();var Lt=c(9541),Xt=c(3359),Yt=c(4331),Ht=c(9438),Ut=c(3146),_e=c(5699),me=c(7064),ue=c(2983),Qt=c(1912),Wt=c(3617),Zt=c(6504),Kt=c(2542),I=c(1672);let bn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,M.C,F.IK]})}}return n})(),En=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,F.IK,g.Y3,M.C]})}}return n})(),Xn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,g.Y3,M.C,me.m]})}}return n})();var Yn=c(4696),Hn=c(1217);let so=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,d.YN,ge.IJ,y.Zw,h.j,R.bP,g.Y3,I._v]})}}return n})();var ao=c(3493),B=c(6969),X=c(7891);c(7673),c(7786),c(3294),c(6354),c(9172),c(6939),c(5463);let te=(()=>{class n{constructor(){this.triggerChange$=new W.B}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(t){this.trigger!==t&&(this.trigger=t,this.triggerChange$.next(t))}ngOnDestroy(){this.triggerChange$.complete()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();const To={provide:d.kq,useExisting:(0,e.Rfq)(()=>ze),multi:!0};let ze=(()=>{class n{constructor(t,o,i,r,a){this.el=t,this.ngZone=o,this.ref=i,this.destroy$=r,this.nzMentionService=a,this.onChange=()=>{},this.onTouched=()=>{},this.onFocusin=new e.bkB,this.onBlur=new e.bkB,this.onInput=new e.bkB,this.onKeydown=new e.bkB,this.onClick=new e.bkB}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(t=null){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(t,t)}insertMention(t){const o=this.el.nativeElement.value,i=`${t.mention} `,r=[o.slice(0,t.startPos+1),i,o.slice(t.endPos,o.length)].join("");this.el.nativeElement.value=r,this.focus(t.startPos+i.length+1),this.onChange(r),this.value=r}writeValue(t){this.value=t,this.el.nativeElement.value="string"==typeof t?t:""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput,!0),this.setupEventListener("click",this.onClick,!0),this.setupEventListener("keydown",this.onKeydown,!0)}ngOnDestroy(){this.completeEvents()}setupEventListener(t,o,i=!1){this.ngZone.runOutsideAngular(()=>{(0,j.R)(this.el.nativeElement,t).pipe((0,C.Q)(this.destroy$)).subscribe(r=>{o.observers.length&&this.ngZone.run(()=>{o.emit(i?r:void 0),this.ref.markForCheck()})})})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(T.y4),e.rXU(te))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],features:[e.Jv_([T.y4,To])]})}}return n})(),No=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.jI,l.MD,d.YN,B.z_,g.Y3,I._v,X.J1]})}}return n})();var wo=c(8928),So=c(2047);const ko=["nodeNameInput"];function Io(n,s){if(1&n&&(e.j41(0,"nz-tooltip",16),e.nrm(1,"span",17),e.k0s()),2&n){const t=e.XpG();e.Y8G("title",t.errorInfo||"\u8bbe\u7f6e\u9519\u8bef")}}function Eo(n,s){1&n&&e.nrm(0,"span",18)}function Do(n,s){if(1&n){const t=e.RV6();e.j41(0,"input",19,20),e.bIt("blur",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onBlur())})("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.modelValue.name=i)}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("ngModel",t.modelValue.name)}}function Fo(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",21),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onEnableEdit())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG();e.R7$(1),e.SpI("",t.modelValue.name," ")}}function Ro(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",22)(1,"span",23),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onDelete())}),e.k0s()()}}function jo(n,s){1&n&&e.nrm(0,"span",24)}function Bo(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-insert-btn",25),e.bIt("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onInsertNode(i))}),e.k0s()}}let ne=(()=>{class n{constructor(){this.moveLn=!1,this.moveRn=!1,this.type="",this.color="",this.headerIcon="",this.content="",this.readonly=!1,this.showError=!1,this.errorInfo="",this.isDefault=!1,this.placeholder="\u8bf7\u8bbe\u7f6e",this.desc="",this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.copy=new e.bkB,this.moveL=new e.bkB,this.moveR=new e.bkB,this.enableEdit=!1}ngAfterViewInit(){}onEnableEdit(){this.readonly||(this.enableEdit=!0,setTimeout(()=>{this.nodeNameInput&&this.nodeNameInput.nativeElement.focus()}))}onBlur(){this.enableEdit=!1}onSelect(){this.select.emit()}onDelete(){this.delete.emit()}onInsertNode(t){this.insertNode.emit(t)}onCopy(){this.copy.emit()}onMoveL(){this.moveL.emit()}onMoveR(){this.moveR.emit()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-branch-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(ko,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeNameInput=r.first)}},inputs:{moveLn:"moveLn",moveRn:"moveRn",type:"type",color:"color",headerIcon:"headerIcon",content:"content",readonly:"readonly",modelValue:"modelValue",showError:"showError",errorInfo:"errorInfo",isDefault:"isDefault",placeholder:"placeholder",desc:"desc"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode",copy:"copy",moveL:"moveL",moveR:"moveR"},decls:20,vars:15,consts:[[1,"p-node"],[3,"title",4,"ngIf"],[1,"p-node-body"],[1,"p-node-move",3,"click"],["nz-icon","","nzType","left",4,"ngIf"],[2,"flex","1"],[1,"p-node-header"],["autofocus","",3,"ngModel","blur","ngModelChange",4,"ngIf"],["class","row-text",3,"click",4,"ngIf"],["class","node-action",4,"ngIf"],["nzType","secondary","nzSize","small",1,"node-desc"],[1,"p-node-content",3,"click"],["nzEllipsis","","nzEllipsisRows","4"],["nz-icon","","nzType","right",4,"ngIf"],[1,"p-node-add"],[3,"insertNode",4,"ngIf"],[3,"title"],["nz-icon","","nzType","warning","nzTheme","fill",1,"node-err-tip"],["nz-icon","","nzType","left"],["autofocus","",3,"ngModel","blur","ngModelChange"],["nodeNameInput",""],[1,"row-text",3,"click"],[1,"node-action"],[1,"fa","fa-close",3,"click"],["nz-icon","","nzType","right"],[3,"insertNode"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.DNE(1,Io,2,1,"nz-tooltip",1),e.j41(2,"div",2)(3,"div",3),e.bIt("click",function(){return i.onMoveL()}),e.DNE(4,Eo,1,0,"span",4),e.k0s(),e.j41(5,"div",5)(6,"div",6)(7,"div"),e.DNE(8,Do,2,1,"input",7),e.DNE(9,Fo,2,1,"div",8),e.k0s(),e.DNE(10,Ro,2,0,"div",9),e.j41(11,"nz-typography",10),e.EFF(12),e.k0s()(),e.j41(13,"div",11),e.bIt("click",function(){return i.onSelect()}),e.j41(14,"nz-typography",12),e.EFF(15),e.k0s()()(),e.j41(16,"div",3),e.bIt("click",function(){return i.onMoveR()}),e.DNE(17,jo,1,0,"span",13),e.k0s()(),e.j41(18,"div",14),e.DNE(19,Bo,1,0,"app-insert-btn",15),e.k0s()()),2&o&&(e.R7$(1),e.Y8G("ngIf",i.showError),e.R7$(1),e.xc7("--shadowColor",i.color),e.AVh("node-err",i.showError),e.R7$(2),e.Y8G("ngIf",!i.readonly&&i.moveLn&&!i.isDefault),e.R7$(3),e.xc7("color",i.isDefault?"#898989":i.color),e.R7$(1),e.Y8G("ngIf",i.enableEdit),e.R7$(1),e.Y8G("ngIf",!i.enableEdit),e.R7$(1),e.Y8G("ngIf",!i.readonly&&!i.isDefault),e.R7$(2),e.JRh(i.desc),e.R7$(3),e.SpI(" ",i.content||i.placeholder," "),e.R7$(2),e.Y8G("ngIf",!i.readonly&&i.moveRn&&!i.isDefault),e.R7$(2),e.Y8G("ngIf",!i.readonly))},styles:['.p-node[_ngcontent-%COMP%]{width:200px;margin-bottom:8px;position:relative}.p-node[_ngcontent-%COMP%]   .node-err-tip[_ngcontent-%COMP%]{position:absolute;right:-30px;color:var(--error-color)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]{cursor:pointer;background:white;overflow:hidden;border-radius:5px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 0 5px #d8d8d8}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-move[_ngcontent-%COMP%]{width:15px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-move[_ngcontent-%COMP%]:hover{background:#F5F6F6}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 var(--shadowColor)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-action[_ngcontent-%COMP%]{display:inline!important}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-desc[_ngcontent-%COMP%]{display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:100%}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child:hover, .p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child:hover{background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:25px;font-size:13px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-action[_ngcontent-%COMP%]{color:#767676;display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-action[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:2px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-desc[_ngcontent-%COMP%]{position:absolute;right:8px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .row-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3px;width:115px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:115px;border:1px solid #d9d9d9;border-radius:5px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%]{padding:5px;min-height:50px;display:flex;justify-content:space-between;align-items:center;font-size:15px;color:#656363}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{word-wrap:break-word}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:80px}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:before{position:absolute;content:"";width:2px;height:80px;background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:after{content:"";position:absolute;top:80px;left:50%;transform:translate(-50%);width:0;border-style:solid;border-width:8px 6px 4px;border-color:#d9d9d9 transparent transparent}']})}}return n})();class G{createBranch(s){throw new Error("Method not implemented.")}}function N(){return"node_"+Math.random().toString(36).substr(2,9)}function Y(n){n&&"object"==typeof n&&(n.id&&(n.id=N()),n.branch&&Array.isArray(n.branch)&&n.branch.forEach(s=>Y(s)),n.props&&n.props.branch&&Array.isArray(n.props.branch)&&n.props.branch.forEach(s=>Y(s)))}const Go=["nodeNameInput"];function Vo(n,s){if(1&n&&(e.j41(0,"nz-tooltip",9),e.nrm(1,"span",10),e.k0s()),2&n){const t=e.XpG();e.Y8G("title",t.errorInfo||"\u8bbe\u7f6e\u9519\u8bef")}}function $o(n,s){if(1&n){const t=e.RV6();e.j41(0,"input",18,19),e.bIt("blur",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onBlur())})("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.model.name=i)}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngModel",t.model.name)}}function Ao(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onEnableEdit())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(1),e.SpI("",t.model.name," ")}}function Lo(n,s){if(1&n){const t=e.RV6();e.j41(0,"span",21),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onDelete())}),e.k0s()}}function Xo(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div"),e.DNE(3,$o,2,1,"input",13),e.DNE(4,Ao,2,1,"div",14),e.k0s(),e.DNE(5,Lo,1,0,"span",15),e.k0s(),e.j41(6,"div",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSelect())}),e.SdG(7),e.nrm(8,"span",17),e.k0s()()}if(2&n){const t=e.XpG();e.xc7("background",t.headerColor)("--shadowColor",t.headerColor),e.AVh("node-err",t.showError),e.R7$(1),e.xc7("background-color",t.headerColor),e.R7$(2),e.Y8G("ngIf",t.enableEdit),e.R7$(1),e.Y8G("ngIf",!t.enableEdit),e.R7$(1),e.Y8G("ngIf",t.showClose&&!t.readonly)}}function Yo(n,s){1&n&&(e.qex(0),e.j41(1,"p"),e.EFF(2,"Some contents..."),e.k0s(),e.j41(3,"p"),e.EFF(4,"Some contents..."),e.k0s(),e.j41(5,"p"),e.EFF(6,"Some contents..."),e.k0s(),e.bVm())}function Ho(n,s){1&n&&(e.qex(0),e.j41(1,"p"),e.EFF(2,"Some contents..."),e.k0s(),e.j41(3,"p"),e.EFF(4,"Some contents..."),e.k0s(),e.j41(5,"p"),e.EFF(6,"Some contents..."),e.k0s(),e.bVm())}function Uo(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.close())}),e.EFF(2,"Cancel"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.close())}),e.EFF(4,"Save"),e.k0s()()}}const Qo=["*"];let V=(()=>{class n{constructor(){this.headerColor="",this.headerIcon="",this.content="",this.readonly=!1,this.showError=!1,this.errorInfo="",this.showClose=!0,this.showBody=!0,this.placeholder="\u8bf7\u8bbe\u7f6e",this.modelChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showDrawer=!1,this.enableEdit=!1}ngAfterViewInit(){}onEnableEdit(){this.readonly||(this.enableEdit=!0,setTimeout(()=>{this.nodeNameInput&&this.nodeNameInput.nativeElement.focus()}))}onBlur(){this.enableEdit=!1}onSelect(){this.showDrawer=!0,this.select.emit()}onDelete(){this.delete.emit()}onInsertNode(t){this.insertNode.emit(t)}close(){this.showDrawer=!1}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(Go,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeNameInput=r.first)}},inputs:{headerColor:"headerColor",headerIcon:"headerIcon",content:"content",readonly:"readonly",model:"model",showError:"showError",errorInfo:"errorInfo",showClose:"showClose",showBody:"showBody",placeholder:"placeholder"},outputs:{modelChange:"modelChange",select:"select",delete:"delete",insertNode:"insertNode"},ngContentSelectors:Qo,decls:10,vars:5,consts:[[1,"p-node"],["nzPlacement","top-start",3,"title",4,"ngIf"],["class","p-node-body",3,"node-err","background","--shadowColor",4,"ngIf"],[1,"p-node-add"],[3,"insertNode"],["nzPlacement","right","nzTitle","Basic Drawer",3,"nzVisible","nzFooter","nzWidth","nzOnClose"],[4,"nzDrawerContent"],[4,"footer"],["footerTpl",""],["nzPlacement","top-start",3,"title"],["nz-icon","","nzType","warning","nzTheme","fill",1,"node-err-tip"],[1,"p-node-body"],[1,"p-node-header"],["style","color: #000;","autofocus","",3,"ngModel","blur","ngModelChange",4,"ngIf"],["class","row-text",3,"click",4,"ngIf"],["class","fa fa-close",3,"click",4,"ngIf"],[1,"p-node-content",3,"click"],["nz-icon","","nzType","arrow-right",1,"w-p-node-click"],["autofocus","",2,"color","#000",3,"ngModel","blur","ngModelChange"],["nodeNameInput",""],[1,"row-text",3,"click"],[1,"fa","fa-close",3,"click"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,i){if(1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,Vo,2,1,"nz-tooltip",1),e.DNE(2,Xo,9,11,"div",2),e.j41(3,"div",3)(4,"app-insert-btn",4),e.bIt("insertNode",function(a){return i.onInsertNode(a)}),e.k0s()()(),e.j41(5,"nz-drawer",5),e.bIt("nzOnClose",function(){return i.close()}),e.DNE(6,Yo,7,0,"ng-container",6),e.DNE(7,Ho,7,0,"ng-container",7),e.k0s(),e.DNE(8,Uo,5,0,"ng-template",null,8,e.C5r)),2&o){const r=e.sdS(9);e.R7$(1),e.Y8G("ngIf",i.showError),e.R7$(1),e.Y8G("ngIf",i.showBody),e.R7$(3),e.Y8G("nzVisible",i.showDrawer)("nzFooter",r)("nzWidth",600)}},styles:['.p-node[_ngcontent-%COMP%]{width:200px;margin-bottom:8px;position:relative}.p-node[_ngcontent-%COMP%]   .node-err-tip[_ngcontent-%COMP%]{position:absolute;right:-30px;color:var(--error-color)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]{cursor:pointer;background:white;overflow:hidden;border-radius:5px;box-shadow:0 0 5px #d8d8d8}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 10px;color:#fff;height:25px;font-size:13px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .row-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-del[_ngcontent-%COMP%]{display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3px;width:150px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;border:none;border-radius:5px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%]{padding:7px 6px 7px 7px;min-height:40px;display:flex;justify-content:space-between;align-items:center;font-size:15px;background:white;margin:0 4px 4px;border-radius:5px;color:#656363}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:92%;word-wrap:break-word}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 var(--shadowColor)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-del[_ngcontent-%COMP%]{display:inline}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:80px}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:before{position:absolute;content:"";width:3px;height:80px;background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:after{content:"";position:absolute;top:80px;left:50%;transform:translate(-50%);width:0;border-style:solid;border-width:8px 6px 4px;border-color:#d9d9d9 transparent transparent}']})}}return n})(),xe=(()=>{class n extends G{constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null}code(){return"approval"}name(){return"\u5ba1\u6279\u4eba"}color(){return"#EC8151"}onSelect(){}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}click(){}create(){return{id:N(),type:this.code(),name:this.name()}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-approval-node"]],inputs:{readonly:"readonly",modelValue:"modelValue",branch:"branch",index:"index"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:2,vars:6,consts:[["headerIcon","stamp",3,"model","readonly","showError","errorInfo","headerColor","modelChange","select","insertNode","delete"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(a){return i.modelValue=a})("select",function(){return i.onSelect()})("insertNode",function(a){return i.onInsertNode(a)})("delete",function(){return i.onDelete()}),e.EFF(1),e.k0s()),2&o&&(e.Y8G("model",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("headerColor",i.color()),e.R7$(1),e.SpI(" ",i.name(),"\n"))},dependencies:[V]})}}return n})(),ve=(()=>{class n extends G{constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null}onSelect(){this.select.emit(this.modelValue)}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}code(){return"cc"}color(){return"#5994F3"}name(){return"\u6284\u9001\u4eba"}create(){return{id:N(),type:this.code(),name:this.name()}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cc-node"]],inputs:{readonly:"readonly",modelValue:"modelValue",branch:"branch",index:"index"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:2,vars:5,consts:[["headerIcon","notification",3,"model","readonly","showError","errorInfo","headerColor","modelChange","select","insertNode","delete"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(a){return i.modelValue=a})("select",function(){return i.onSelect()})("insertNode",function(a){return i.onInsertNode(a)})("delete",function(){return i.onDelete()}),e.EFF(1," \u6284\u9001\u4eba\n"),e.k0s()),2&o&&e.Y8G("model",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("headerColor",i.color())},dependencies:[V]})}}return n})(),ye=(()=>{class n extends G{constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.moveLn=!1,this.moveRn=!1,this.isDefault=!1,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.moveL=new e.bkB,this.moveR=new e.bkB,this.showErr=!1,this.errInfo=null}onSelect(){this.select.emit(this.modelValue)}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onMoveL(){this.moveL.emit()}onMoveR(){this.moveR.emit()}code(){return"exclusive"}color(){return"#59B9A4"}name(){return"\u4e92\u65a5\u6761\u4ef6"}create(){return{id:N()+"_fork",type:"gateway",name:"\u7f51\u5173\u8282\u70b9",props:{type:this.code(),branch:[this.createBranch(1),this.createBranch()]},branch:[[],[]]}}createBranch(t){return{id:N(),type:"exclusive",name:t?"\u6761\u4ef6"+t:"\u9ed8\u8ba4\u6761\u4ef6",parentId:null,childId:null}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-exclusive-node"]],inputs:{readonly:"readonly",modelValue:"modelValue",branch:"branch",index:"index",moveLn:"moveLn",moveRn:"moveRn",isDefault:"isDefault"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode",moveL:"moveL",moveR:"moveR"},features:[e.Vt3],decls:1,vars:9,consts:[["headerIcon","share",3,"modelValue","readonly","showError","errorInfo","color","isDefault","moveRn","moveLn","desc","modelValueChange","insertNode","moveL","moveR","delete","select"]],template:function(o,i){1&o&&(e.j41(0,"app-branch-node",0),e.bIt("modelValueChange",function(a){return i.modelValue=a})("insertNode",function(a){return i.onInsertNode(a)})("moveL",function(){return i.onMoveL()})("moveR",function(){return i.onMoveR()})("delete",function(){return i.onDelete()})("select",function(){return i.onSelect()}),e.k0s()),2&o&&e.Y8G("modelValue",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("color",i.color())("isDefault",i.isDefault)("moveRn",i.moveRn)("moveLn",i.moveLn)("desc","\u4f18\u5148\u7ea7 "+(i.index+1))},dependencies:[ne]})}}return n})(),be=(()=>{class n extends G{constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.moveLn=!1,this.isDefault=!1,this.moveRn=!1,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.moveL=new e.bkB,this.moveR=new e.bkB}validate(t){return!0}onSelect(){this.select.emit(this.modelValue)}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onMoveL(){this.moveL.emit()}onMoveR(){this.moveR.emit()}code(){return"parallel"}color(){return"#718dff"}name(){return"\u5e76\u884c\u5206\u652f"}create(){return{id:N()+"_fork",type:"gateway",name:"\u7f51\u5173\u8282\u70b9",props:{type:this.code(),branch:[this.createBranch(1),this.createBranch()]},branch:[[],[]]}}createBranch(t){return{id:N(),type:"parallel",name:"\u5e76\u884c\u8def\u5f84"+(t||2),parentId:null,childId:null}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-parallel-node"]],inputs:{readonly:"readonly",modelValue:"modelValue",branch:"branch",index:"index",moveLn:"moveLn",isDefault:"isDefault",moveRn:"moveRn"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode",moveL:"moveL",moveR:"moveR"},features:[e.Vt3],decls:1,vars:5,consts:[["desc","\u5e76\u884c\u6267\u884c","headerIcon","apartment","content","\u5e76\u884c\u6d41\u7a0b\u5206\u652f",3,"modelValue","readonly","color","moveRn","moveLn","modelValueChange","insertNode","moveL","moveR","delete","select"]],template:function(o,i){1&o&&(e.j41(0,"app-branch-node",0),e.bIt("modelValueChange",function(a){return i.modelValue=a})("insertNode",function(a){return i.onInsertNode(a)})("moveL",function(){return i.onMoveL()})("moveR",function(){return i.onMoveR()})("delete",function(){return i.onDelete()})("select",function(){return i.onSelect()}),e.k0s()),2&o&&e.Y8G("modelValue",i.modelValue)("readonly",i.readonly)("color",i.color())("moveRn",i.moveRn)("moveLn",i.moveLn)},dependencies:[ne]})}}return n})(),oe=(()=>{class n extends G{constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null}validate(t){}onSelect(){this.select.emit(this.model)}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}code(){return"start"}color(){return"#80929C"}name(){return"\u53d1\u8d77\u4eba"}create(){return{type:this.code(),name:this.name()}}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-start-node"]],inputs:{readonly:"readonly",model:"model",branch:"branch",index:"index"},outputs:{modelChange:"modelChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:2,vars:5,consts:[["headerColor","#80929C","headerIcon","user",3,"model","readonly","showClose","showError","errorInfo","modelChange","select","insertNode"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(a){return i.model=a})("select",function(){return i.onSelect()})("insertNode",function(a){return i.onInsertNode(a)}),e.EFF(1," \u6d41\u7a0b\u4ece\u672c\u8282\u70b9\u5f00\u59cb\n"),e.k0s()),2&o&&e.Y8G("model",i.model)("readonly",i.readonly)("showClose",!1)("showError",i.showErr)("errorInfo",i.errInfo)},dependencies:[V]})}}return n})();const Oe=[new oe,new xe,new ve,new ye,new be],w={};for(let n of Oe)w[n.code()]=n;var O=c(6389),S=c(5930);function Wo(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.onInsertNode(i.code()))}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG().$implicit;e.xc7("color",t.color()),e.R7$(1),e.SpI(" ",t.name()," ")}}function Zo(n,s){if(1&n&&(e.qex(0),e.DNE(1,Wo,2,3,"div",5),e.bVm()),2&n){const t=s.$implicit;e.R7$(1),e.Y8G("ngIf","start"!=t.code())}}function Ko(n,s){if(1&n&&(e.j41(0,"div",3),e.DNE(1,Zo,2,1,"ng-container",4),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.nodeList)}}let Me=(()=>{class n{constructor(){this.insertNode=new e.bkB,this.popoverVisible=!1,this.nodeList=Oe}onInsertNode(t){this.insertNode.emit(t),this.popoverVisible=!1}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-insert-btn"]],outputs:{insertNode:"insertNode"},decls:4,vars:1,consts:[["nz-button","","nzShape","circle","nz-popover","","nzPopoverTitle","\u8bf7\u9009\u62e9\u6d41\u7a0b\u8282\u70b9","nzPopoverPlacement","right","nzPopoverTrigger","click",2,"z-index","1","filter","drop-shadow(0 4px 8px rgba(31,35,41,.1))",3,"nzPopoverContent"],["nz-icon","","nzType","plus",2,"font-size","16px"],["nzPopoverContent",""],[1,"node-options",2,"width","360px"],[4,"ngFor","ngForOf"],[3,"color","click",4,"ngIf"],[3,"click"]],template:function(o,i){if(1&o&&(e.j41(0,"button",0),e.nrm(1,"span",1),e.DNE(2,Ko,2,1,"ng-template",null,2,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.Y8G("nzPopoverContent",r)}},dependencies:[l.Sq,l.bT,y.aO,O.c,S.p,q.L_,g.Dn],styles:[".node-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.node-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:3px;margin-right:5px;border-radius:10px;border:1px solid #DEDFDF}.node-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:8px 10px;border-radius:15px;background:#F8F9F9;margin:5px;width:110px}.node-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px #e3e3e3}"]})}}return n})();var Pe=c(4710),b=c(309),Jo=c(4275),qo=c(5731);let H=(()=>{class n{constructor(t,o){this._http=t,this.i18n=o}groupList(){return this._http.get(b.eY.erupt+"/flow/group/list",null,{observe:"body"})}groupAdd(t){return this._http.post(b.eY.erupt+"/flow/group/add",null,{name:t})}groupEdit(t,o){return this._http.post(b.eY.erupt+"/flow/group/edit",null,{id:t,name:o})}groupDelete(t){return this._http.post(b.eY.erupt+"/flow/group/delete",null,{id:t})}groupSort(t){return this._http.post(b.eY.erupt+"/flow/group/sort",t)}configList(){return this._http.get(b.eY.erupt+"/flow/config/list",null)}eruptFlows(){return this._http.get(b.eY.erupt+"/flow/config/erupt-flows")}eruptFlowBuild(t){return this._http.get(b.eY.erupt+"/flow/erupt-build/"+t)}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(Jo.p4),e.KVO(qo.SU))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();const ei=["startNode","approvalNode","ccNode","exclusiveNode","parallelNode","branchNode","childNodeRef"];function ti(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-start-node",4,5),e.bIt("modelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("model",t.node)("branch",t.branch)("index",t.index)}}function ni(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-approval-node",6,7),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("modelValue",t.node)("branch",t.branch)("index",t.index)}}function oi(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-cc-node",6,8),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("modelValue",t.node)("branch",t.branch)("index",t.index)}}function ii(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.addBranch())}),e.EFF(1," \u6dfb\u52a0\u5206\u652f "),e.k0s()}}function ri(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-exclusive-node",17,18),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.node.props.branch[r]=i)})("insertNode",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.insertNodeFun(a.node.branch[r],i.index,i.type))})("delete",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.deleteBranch(i))})("copy",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.copyBranch(i))})("moveL",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.moveL(i))})("moveR",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.moveR(i))})("select",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.selectFun(i,r))}),e.k0s()}if(2&n){const t=e.XpG().index,o=e.XpG(2);e.Y8G("readonly",o.readonly)("modelValue",o.node.props.branch[t])("index",t)("moveRn",t<o.node.branch.length-("parallel"!==o.node.props.type?2:1))("moveLn",t>0)("isDefault",t===o.node.branch.length-1&&"parallel"!==o.node.props.type)}}function si(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-parallel-node",17,18),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.node.props.branch[r]=i)})("insertNode",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.insertNodeFun(a.node.branch[r],i.index,i.type))})("delete",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.deleteBranch(i))})("copy",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.copyBranch(i))})("moveL",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.moveL(i))})("moveR",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG(2);return e.Njj(r.moveR(i))})("select",function(i){e.eBV(t);const r=e.XpG().index,a=e.XpG(2);return e.Njj(a.selectFun(i,r))}),e.k0s()}if(2&n){const t=e.XpG().index,o=e.XpG(2);e.Y8G("readonly",o.readonly)("modelValue",o.node.props.branch[t])("index",t)("moveRn",t<o.node.branch.length-("parallel"!==o.node.props.type?2:1))("moveLn",t>0)("isDefault",t===o.node.branch.length-1&&"parallel"!==o.node.props.type)}}function ai(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"app-recursive-node",19,20),e.bIt("nodeChange",function(i){const a=e.eBV(t).index,p=e.XpG().$implicit;return e.Njj(p[a]=i)})("insertNode",function(i){e.eBV(t);const r=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.insertNodeFun(r,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.deleteNode(r,i.index))})("select",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.select.emit(i))}),e.k0s(),e.bVm()}if(2&n){const t=s.$implicit,o=s.index,i=e.XpG().$implicit,r=e.XpG(2);e.R7$(1),e.Y8G("readonly",r.readonly)("node",t)("branch",i)("index",o)}}function ci(n,s){if(1&n&&(e.j41(0,"div")(1,"div"),e.qex(2,0),e.DNE(3,ri,2,6,"app-exclusive-node",15),e.DNE(4,si,2,6,"app-parallel-node",15),e.bVm(),e.DNE(5,ai,3,4,"ng-container",16),e.k0s()()),2&n){const t=s.$implicit,o=s.index,i=e.XpG(2);e.HbH("p-branch-item"+(0===o?" p-branch-item-l":"")+(o===i.node.branch.length-1?" p-branch-item-r":"")),e.R7$(2),e.Y8G("ngSwitch",i.node.props.type),e.R7$(1),e.Y8G("ngSwitchCase","exclusive"),e.R7$(1),e.Y8G("ngSwitchCase","parallel"),e.R7$(1),e.Y8G("ngForOf",t)}}const li=function(n){return{"p-branch-end":n}};function pi(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",9)(1,"div",10),e.DNE(2,ii,2,0,"button",11),e.DNE(3,ci,6,6,"div",12),e.k0s(),e.j41(4,"erupt-node",13),e.bIt("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNode.emit({branch:r.branch,index:r.index,type:i}))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",!t.readonly),e.R7$(1),e.Y8G("ngForOf",t.node.branch),e.R7$(1),e.HbH(e.eq3(6,li,t.branch.length===t.index+1)),e.Y8G("readonly",t.readonly)("showBody",!1)}}let di=(()=>{class n{constructor(){this.readonly=!1,this.branch=[],this.index=0,this.nodeChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB}insertNodeFun(t,o,i){if(w[i]){const r=w[i].create();t.splice(o+1,0,r)}}deleteNode(t,o){t.splice(o,1)}addBranch(){const t=this.node.branch.length-1;this.node.props.branch.splice(t,0,w[this.node.props.type].createBranch(t+1)),this.node.branch.splice(t,0,[])}deepCopy(t){return JSON.parse(JSON.stringify(t))}copyBranch(t){const o=this.deepCopy(this.node.props.branch[t]);o.name=o.name+"-copy";const i=this.deepCopy(this.node.branch[t]);Y(o),Y(i),this.node.props.branch.splice(t+1,0,o),this.node.branch.splice(t+1,0,i)}deleteBranch(t){this.node.branch.length<=2?this.delete.emit({branch:this.branch,index:this.index}):(this.node.props.branch.splice(t,1),this.node.branch.splice(t,1))}moveL(t){this.exchange(this.node.props.branch,t,t-1),this.exchange(this.node.branch,t,t-1)}moveR(t){this.exchange(this.node.props.branch,t,t+1),this.exchange(this.node.branch,t,t+1)}exchange(t,o,i){const r=t[o];t[o]=t[i],t[i]=r}selectFun(t,o){}validate(t){this.nodeRefs&&this.nodeRefs.forEach(o=>{const i=o.nativeElement.__ngContext__;i&&i.validate&&i.validate(t)})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-recursive-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(ei,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeRefs=r)}},inputs:{readonly:"readonly",node:"node",branch:"branch",index:"index"},outputs:{nodeChange:"nodeChange",select:"select",delete:"delete",insertNode:"insertNode"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"readonly","model","branch","index","modelChange","insertNode","delete","select",4,"ngSwitchCase"],[3,"readonly","modelValue","branch","index","modelValueChange","insertNode","delete","select",4,"ngSwitchCase"],["class","p-gateway",4,"ngSwitchCase"],[3,"readonly","model","branch","index","modelChange","insertNode","delete","select"],["startNode",""],[3,"readonly","modelValue","branch","index","modelValueChange","insertNode","delete","select"],["approvalNode",""],["ccNode",""],[1,"p-gateway"],[1,"p-branch"],["nz-button","","nzType","default","nzShape","round","class","p-gateway-add",3,"click",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[3,"readonly","showBody","insertNode"],["nz-button","","nzType","default","nzShape","round",1,"p-gateway-add",3,"click"],[3,"readonly","modelValue","index","moveRn","moveLn","isDefault","modelValueChange","insertNode","delete","copy","moveL","moveR","select",4,"ngSwitchCase"],[4,"ngFor","ngForOf"],[3,"readonly","modelValue","index","moveRn","moveLn","isDefault","modelValueChange","insertNode","delete","copy","moveL","moveR","select"],["branchNode",""],[3,"readonly","node","branch","index","nodeChange","insertNode","delete","select"],["childNodeRef",""]],template:function(o,i){1&o&&(e.qex(0,0),e.DNE(1,ti,2,4,"app-start-node",1),e.DNE(2,ni,2,4,"app-approval-node",2),e.DNE(3,oi,2,4,"app-cc-node",2),e.DNE(4,pi,5,8,"div",3),e.bVm()),2&o&&(e.Y8G("ngSwitch",i.node.type),e.R7$(1),e.Y8G("ngSwitchCase","start"),e.R7$(1),e.Y8G("ngSwitchCase","approval"),e.R7$(1),e.Y8G("ngSwitchCase","cc"),e.R7$(1),e.Y8G("ngSwitchCase","gateway"))},dependencies:[l.Sq,l.bT,l.ux,l.e1,y.aO,O.c,S.p,oe,xe,ve,ye,be,V,n],styles:['.p-gateway[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;width:100%}.p-gateway[_ngcontent-%COMP%]   .p-gateway-add[_ngcontent-%COMP%]{z-index:2;top:-16px;position:absolute}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;background:#f5f5f5;width:100%}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:before, .p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:after{content:"";position:absolute;left:160px;right:160px;height:2px;background:#d9d9d9;z-index:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:before{top:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:after{bottom:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%]{position:relative;padding:0 60px;display:flex;justify-content:center}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{z-index:1;margin-top:40px;display:flex;flex-direction:column;align-items:center}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .p-node[_ngcontent-%COMP%]:last-child   [_ngcontent-%COMP%]:deep(.p-node-add):after{display:none!important}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#d9d9d9;height:100%;width:2px}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.p-branch-end   .p-node-add)[_ngcontent-%COMP%]:after{display:none!important}']})}}return n})();const gi=["node"];function _i(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"app-recursive-node",3,4),e.bIt("nodeChange",function(i){const a=e.eBV(t).index,p=e.XpG();return e.Njj(p.modelValue[a]=i)})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(i.branch,i.index))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNode(i.branch,i.index,i.type))}),e.k0s(),e.bVm()}if(2&n){const t=s.$implicit,o=s.index,i=e.XpG();e.R7$(1),e.Y8G("readonly",i.readonly)("node",t)("branch",i.modelValue)("index",o)}}let mi=(()=>{class n{constructor(){this.readonly=!1,this.modelValueChange=new e.bkB,this.select=new e.bkB}ngOnInit(){}deleteNode(t,o){t.splice(o,1)}insertNode(t,o,i){if(w[i]&&w[i].create){const r=w[i].create();t.splice(o+1,0,r)}}validate(){return new Promise((t,o)=>{const i=[];this.nodeRefs&&this.nodeRefs.forEach(r=>{const a=r.nativeElement.__ngContext__;a&&a.validate&&a.validate(i)}),0===i.length?t(!0):o(i)})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-process-render"]],viewQuery:function(o,i){if(1&o&&e.GBs(gi,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeRefs=r)}},inputs:{readonly:"readonly",modelValue:"modelValue"},outputs:{modelValueChange:"modelValueChange",select:"select"},decls:4,vars:1,consts:[[1,"process"],[4,"ngFor","ngForOf"],[1,"process-end"],[3,"readonly","node","branch","index","nodeChange","select","delete","insertNode"],["node",""]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.DNE(1,_i,3,4,"ng-container",1),e.j41(2,"div",2),e.EFF(3,"\u6d41\u7a0b\u7ed3\u675f"),e.k0s()()),2&o&&(e.R7$(1),e.Y8G("ngForOf",i.modelValue))},dependencies:[l.Sq,di],styles:[".process[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:100%;min-height:100%;padding:20px;width:max-content;height:max-content;transform-origin:center center}.process[_ngcontent-%COMP%]   .process-node[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:20px;min-width:200px}.process[_ngcontent-%COMP%]   .process-end[_ngcontent-%COMP%]{text-align:center;padding:10px;border-radius:5px;background:var(--node-line-color);margin-top:20px;min-width:100px}"]})}}return n})();const ui=["processRender"],hi=["canvasContainer"];let fi=(()=>{class n{constructor(t){this.message=t,this.modelValue=[],this.modelValueChange=new e.bkB,this.isDragging=!1,this.startX=0,this.startY=0,this.startScrollLeft=0,this.startScrollTop=0,this.scale=1,this.minScale=.1,this.maxScale=3,this.scaleStep=.1,this.zoomSupported=this.checkZoomSupport()}checkZoomSupport(){const t=document.createElement("div");return t.style.zoom="1.1","1.1"===t.style.zoom}ngAfterViewInit(){this.initCanvasDrag()}ngOnInit(){0===this.modelValue.length&&(this.modelValue=[(new oe).create()],this.modelValueChange.emit(this.modelValue))}initCanvasDrag(){if(this.canvasContainer){const t=this.canvasContainer.nativeElement;t.style.cursor="grab",t.style.userSelect="none"}}getScrollableContainer(){if(!this.canvasContainer)return null;let t=this.canvasContainer.nativeElement.parentElement;for(;t;){const o=window.getComputedStyle(t);if("auto"===o.overflow||"scroll"===o.overflow||"auto"===o.overflowX||"scroll"===o.overflowX||"auto"===o.overflowY||"scroll"===o.overflowY)return t;t=t.parentElement}return this.canvasContainer.nativeElement.closest(".flow")}getProcessRenderElement(){return this.processRender?this.processRender.elementRef?.nativeElement||this.processRender.el?.nativeElement||this.canvasContainer.nativeElement.querySelector("app-process-render"):null}applyScale(){const t=this.getProcessRenderElement();t&&(this.zoomSupported?(t.style.zoom=this.scale.toString(),t.style.transform="",t.style.transformOrigin=""):(t.style.transform=`scale(${this.scale})`,t.style.transformOrigin="center center",t.style.zoom=""))}onMouseDown(t){const o=t.target,i=this.canvasContainer?.nativeElement;if(i&&(o===i||i.contains(o))){if(o.closest("button, input, select, textarea, [contenteditable], .node-input, .node-edit, .node-delete, .insert-btn"))return;this.isDragging=!0,this.startX=t.clientX,this.startY=t.clientY;const a=this.getScrollableContainer();a&&(this.startScrollLeft=a.scrollLeft,this.startScrollTop=a.scrollTop),i.style.cursor="grabbing"}}onMouseMove(t){if(this.isDragging){const o=this.startX-t.clientX,i=this.startY-t.clientY,r=this.getScrollableContainer();r&&(r.scrollLeft=this.startScrollLeft+o,r.scrollTop=this.startScrollTop+i),t.preventDefault()}}onMouseUp(t){this.isDragging&&(this.isDragging=!1,this.canvasContainer.nativeElement.style.cursor="grab")}onMouseLeave(t){this.isDragging&&(this.isDragging=!1,this.canvasContainer.nativeElement.style.cursor="grab")}selectNode(t){}doZoom(t){this.scale=t>0?Math.min(this.maxScale,this.scale+this.scaleStep):Math.max(this.minScale,this.scale-this.scaleStep),this.applyScale()}doHit(){this.scale=1,this.applyScale();const t=this.getScrollableContainer();if(t){const o=t.scrollWidth-t.clientWidth;t.scrollLeft=o>0?o/2:0,t.scrollTop=0}}validate(){return this.processRender.validate()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(Q.xh))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow"]],viewQuery:function(o,i){if(1&o&&(e.GBs(ui,5),e.GBs(hi,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.processRender=r.first),e.mGM(r=e.lsd())&&(i.canvasContainer=r.first)}},hostBindings:function(o,i){1&o&&e.bIt("mousedown",function(a){return i.onMouseDown(a)})("mousemove",function(a){return i.onMouseMove(a)})("mouseup",function(a){return i.onMouseUp(a)})("mouseleave",function(a){return i.onMouseLeave(a)})},outputs:{modelValueChange:"modelValueChange"},decls:16,vars:6,consts:[[1,"flow"],[1,"p-operation"],[1,"p-operation-zoom"],["nz-button","","nzSize","small","title","\u7f29\u5c0f",3,"click"],["nz-icon","","nzType","minus"],[1,"zoom-text"],["nz-button","","nzSize","small","title","\u91cd\u7f6e\u89c6\u56fe",3,"click"],["nz-icon","","nzType","reload"],["nz-button","","nzSize","small","title","\u653e\u5927",3,"click"],["nz-icon","","nzType","plus"],[1,"canvas-container",2,"width","100%","height","100%","position","relative"],["canvasContainer",""],[3,"readonly","modelValue","modelValueChange","select"],["processRender",""]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return i.doZoom(-1)}),e.nrm(4,"span",4),e.k0s(),e.j41(5,"span",5),e.EFF(6),e.nI1(7,"number"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return i.doHit()}),e.nrm(9,"span",7),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){return i.doZoom(1)}),e.nrm(11,"span",9),e.k0s()()(),e.j41(12,"div",10,11)(14,"app-process-render",12,13),e.bIt("modelValueChange",function(a){return i.modelValue=a})("select",function(a){return i.selectNode(a)}),e.k0s()()()),2&o&&(e.R7$(6),e.SpI("",e.i5U(7,3,100*i.scale,"1.0-0"),"%"),e.R7$(8),e.Y8G("readonly",!1)("modelValue",i.modelValue))},dependencies:[y.aO,O.c,S.p,g.Dn,mi,l.QX],styles:[".flow[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;position:relative}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:11%;z-index:99;transition:all .3s ease}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,.9);border-radius:6px;padding:8px;box-shadow:0 2px 8px #00000026;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   .zoom-text[_ngcontent-%COMP%]{padding:0 12px;font-size:14px;color:var(--text-color);font-weight:500;min-width:50px;text-align:center}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 2px}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{cursor:grab;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative;width:100%;height:100%}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]:active{cursor:grabbing}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   app-process-render[_ngcontent-%COMP%]{display:block;position:relative}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .process-node[_ngcontent-%COMP%], .flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   app-recursive-node[_ngcontent-%COMP%]{cursor:default;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}.process-designer[_ngcontent-%COMP%]{display:block;min-width:100%;min-height:100%;position:relative}"]})}}return n})();function Ci(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",15),e.bIt("click",function(i){const a=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.selectColor(a,i))}),e.k0s()}if(2&n){const t=s.$implicit,o=e.XpG();e.Aen(o.getIconOptionStyle(t)),e.AVh("selected",o.previewColor===t)}}function zi(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(i){const a=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.selectIcon(a,i))}),e.j41(1,"div",17),e.nrm(2,"i"),e.k0s()()}if(2&n){const t=s.$implicit,o=e.XpG();e.AVh("selected",o.previewIcon===t),e.R7$(2),e.HbH(t)}}let xi=(()=>{class n{constructor(){this.configChange=new e.bkB,this.previewIcon="fa fa-user",this.previewColor="#1890ff",this.bgColors=["#1890ff","#52c41a","#fa8c16","#f5222d","#722ed1","#13c2c2","#eb2f96","#8c8c8c","#096dd9","#389e0d","#d48806"],this.icons=["fa fa-user","fa fa-credit-card","fa fa-bell","fa fa-folder","fa fa-calendar","fa fa-car","fa fa-yen","fa fa-legal","fa fa-clock-o","fa fa-file-text","fa fa-users","fa fa-exchange","fa fa-bolt","fa fa-map-marker","fa fa-user-circle","fa fa-user-times","fa fa-file-text-o","fa fa-plane","fa fa-lightbulb-o","fa fa-pie-chart","fa fa-bullseye","fa fa-sitemap","fa fa-building","fa fa-cog","fa fa-search","fa fa-trash","fa fa-save","fa fa-print","fa fa-download","fa fa-upload","fa fa-share","fa fa-check-circle","fa fa-exclamation-triangle","fa fa-times-circle","fa fa-info-circle","fa fa-question-circle","fa fa-lock","fa fa-unlock","fa fa-eye","fa fa-eye-slash"]}ngOnInit(){this.initPreview()}initPreview(){this.previewIcon=this.selectedIcon,this.previewColor=this.selectedColor}selectIcon(t,o){o.stopPropagation(),this.previewIcon=t}selectColor(t,o){o.stopPropagation(),this.previewColor=t}confirmSelection(){this.configChange.emit({icon:this.previewIcon,color:this.previewColor})}cancelSelection(){this.previewIcon=this.selectedIcon,this.previewColor=this.selectedColor}getIconOptionStyle(t){return`background-color: ${t}`}getPreviewIconStyle(){return`background-color: ${this.previewColor}`}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-icon-color-picker"]],inputs:{selectedIcon:"selectedIcon",selectedColor:"selectedColor"},outputs:{configChange:"configChange"},decls:22,vars:7,consts:[[1,"icon-selector-content"],[1,"preview-section"],[1,"preview-display"],[1,"preview-icon"],[1,"selection-section"],[1,"color-section"],[1,"color-grid"],["class","color-item",3,"selected","style","click",4,"ngFor","ngForOf"],[1,"icon-section"],[1,"icon-grid"],["class","icon-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"buttons"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],[1,"color-item",3,"click"],[1,"icon-item",3,"click"],[1,"icon-square",2,"color","#000"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"i"),e.k0s()()(),e.j41(5,"div",4)(6,"div",5)(7,"h4"),e.EFF(8,"\u9009\u62e9\u989c\u8272"),e.k0s(),e.j41(9,"div",6),e.DNE(10,Ci,1,4,"div",7),e.k0s()(),e.j41(11,"div",8)(12,"h4"),e.EFF(13,"\u9009\u62e9\u56fe\u6807"),e.k0s(),e.j41(14,"div",9),e.DNE(15,zi,3,5,"div",10),e.k0s()()(),e.j41(16,"div",11)(17,"div",12)(18,"button",13),e.bIt("click",function(){return i.cancelSelection()}),e.EFF(19," \u53d6\u6d88 "),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return i.confirmSelection()}),e.EFF(21," \u786e\u8ba4\u9009\u62e9 "),e.k0s()()()()),2&o&&(e.R7$(3),e.Aen(i.getPreviewIconStyle()),e.R7$(1),e.HbH(i.previewIcon),e.R7$(6),e.Y8G("ngForOf",i.bgColors),e.R7$(5),e.Y8G("ngForOf",i.icons))},dependencies:[l.Sq,y.aO,O.c,S.p],styles:[".icon-selector-content[_ngcontent-%COMP%]{width:550px;max-width:90vw;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px #0000001f}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:24px 24px 20px;text-align:center}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#fff}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#fffc;line-height:1.4}.icon-selector-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:15px;font-weight:600;color:#262626}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{padding:12px;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border-bottom:1px solid #e8e8e8}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 4px 16px #0003;transition:all .3s ease}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]{text-align:center}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]   .preview-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#262626;margin-bottom:6px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]   .preview-color[_ngcontent-%COMP%]{font-size:13px;color:#666;background:rgba(255,255,255,.8);padding:4px 12px;border-radius:12px;display:inline-block}.icon-selector-content[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:24px}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;cursor:pointer;border:3px solid transparent;transition:all .3s ease;position:relative}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 4px 12px #00000040}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item.selected[_ngcontent-%COMP%]{border-color:#1890ff;box-shadow:0 0 0 3px #1890ff4d}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:6px;padding:2px;max-height:280px;overflow-y:auto}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:8px;padding:6px;transition:all .3s ease;text-align:center;border:2px solid transparent;display:flex;justify-content:center}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]:hover{background-color:#f0f8ff;transform:scale(1.08);border-color:#d6e4ff}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item.selected[_ngcontent-%COMP%]{background-color:#e6f7ff;border-color:#1890ff;box-shadow:0 0 0 2px #1890ff33}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-square[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px;transition:all .3s ease;box-shadow:0 2px 8px #00000026}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-square[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:11px;color:#666;line-height:1.3;word-break:break-word;max-width:100%;font-weight:500}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:12px;background:#fafafa;border-top:1px solid #e8e8e8}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;height:36px;border-radius:6px;font-weight:500;transition:all .3s ease}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}"]})}}return n})();var vi=c(4199);function yi(n,s){if(1&n&&(e.qex(0),e.nrm(1,"erupt-edit-type",1),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("loading",t.loading)("eruptBuildModel",t.eruptBuild)("readonly",t.readonly)("mode",null)}}let bi=(()=>{class n{constructor(t){this.flowApiService=t,this.loading=!1}ngOnInit(){this.loading=!0,this.flowApiService.eruptFlowBuild(this.erupt).subscribe(t=>{this.eruptBuild=t.data,this.eruptBuild.eruptModel.eruptJson.layout.formSize=b.c8.FULL_LINE})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(H))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow-form"]],inputs:{erupt:"erupt",readonly:"readonly"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"loading","eruptBuildModel","readonly","mode"]],template:function(o,i){1&o&&e.DNE(0,yi,2,4,"ng-container",0),2&o&&e.Y8G("ngIf",i.eruptBuild)},dependencies:[l.bT,vi.k]})}}return n})();const Oi=["iconPopover"];function Mi(n,s){if(1&n){const t=e.RV6();e.j41(0,"app-icon-color-picker",38),e.bIt("configChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onIconColorConfigChange(i))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("selectedIcon",t.selectedIcon)("selectedColor",t.selectedColor)}}function Pi(n,s){1&n&&(e.j41(0,"span"),e.EFF(1,"\u540d\u79f0\u4e3a\u7a7a,\u8bf7\u586b\u5199"),e.k0s())}function Ti(n,s){1&n&&e.DNE(0,Pi,2,0,"span",39),2&n&&e.Y8G("ngIf",s.$implicit.hasError("required"))}function Ni(n,s){if(1&n&&e.nrm(0,"nz-option",40),2&n){const t=s.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function wi(n,s){1&n&&(e.j41(0,"span"),e.EFF(1,"\u5206\u7ec4\u4e3a\u7a7a,\u8bf7\u9009\u62e9"),e.k0s())}function Si(n,s){1&n&&e.DNE(0,wi,2,0,"span",39),2&n&&e.Y8G("ngIf",s.$implicit.hasError("required"))}function ki(n,s){if(1&n&&e.nrm(0,"nz-option",40),2&n){const t=s.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Ii(n,s){if(1&n&&e.nrm(0,"nz-option",40),2&n){const t=s.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Ei(n,s){1&n&&(e.j41(0,"span"),e.EFF(1,"\u63d0\u4ea4\u6743\u9650\u4e3a\u7a7a,\u8bf7\u9009\u62e9"),e.k0s())}function Di(n,s){1&n&&e.DNE(0,Ei,2,0,"span",39),2&n&&e.Y8G("ngIf",s.$implicit.hasError("required"))}const Fi=function(){return{minRows:3,maxRows:5}};function Ri(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"form",18)(2,"div",19)(3,"label",20),e.EFF(4,"\u56fe\u6807"),e.k0s(),e.j41(5,"div",21)(6,"div",22)(7,"div",23),e.nrm(8,"i"),e.k0s()(),e.j41(9,"button",24,25),e.EFF(11," \u4fee\u6539 "),e.k0s()(),e.DNE(12,Mi,1,2,"ng-template",null,26,e.C5r),e.k0s(),e.j41(14,"div",19)(15,"label",20),e.EFF(16,"\u540d\u79f0"),e.k0s(),e.j41(17,"nz-form-item")(18,"nz-form-control",27),e.nrm(19,"input",28),e.k0s()(),e.DNE(20,Ti,1,1,"ng-template",null,29,e.C5r),e.k0s(),e.j41(22,"div",19)(23,"label",20),e.EFF(24,"\u5206\u7ec4"),e.k0s(),e.j41(25,"nz-form-item")(26,"nz-form-control",27)(27,"nz-select",30),e.DNE(28,Ni,1,2,"nz-option",31),e.k0s()()(),e.DNE(29,Si,1,1,"ng-template",null,32,e.C5r),e.k0s(),e.j41(31,"div",19)(32,"label",20),e.EFF(33,"\u6570\u636e\u6a21\u578b"),e.k0s(),e.j41(34,"nz-form-item")(35,"nz-form-control")(36,"nz-select",33),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.selectedErupt=i)}),e.DNE(37,ki,1,2,"nz-option",31),e.k0s()()()(),e.j41(38,"div",19)(39,"label",34),e.EFF(40,"\u8bf4\u660e"),e.k0s(),e.j41(41,"nz-form-item")(42,"nz-form-control"),e.nrm(43,"textarea",35),e.k0s()()(),e.j41(44,"div",19)(45,"label",20),e.EFF(46,"\u8c01\u53ef\u4ee5\u63d0\u4ea4\u8be5\u5ba1\u6279"),e.k0s(),e.j41(47,"nz-form-item")(48,"nz-form-control",27)(49,"nz-select",36),e.DNE(50,Ii,1,2,"nz-option",31),e.k0s()()(),e.DNE(51,Di,1,1,"ng-template",null,37,e.C5r),e.k0s()()()}if(2&n){const t=e.sdS(13),o=e.sdS(21),i=e.sdS(30),r=e.sdS(52),a=e.XpG();e.R7$(1),e.Y8G("formGroup",a.flowForm),e.R7$(6),e.Aen(a.getCurrentIconStyle()),e.R7$(1),e.HbH(a.selectedIcon),e.R7$(1),e.Y8G("nzPopoverContent",t),e.R7$(9),e.Y8G("nzErrorTip",o),e.R7$(8),e.Y8G("nzErrorTip",i),e.R7$(2),e.Y8G("ngForOf",a.groupOptions),e.R7$(8),e.Y8G("ngModel",a.selectedErupt),e.R7$(1),e.Y8G("ngForOf",a.eruptFlows),e.R7$(6),e.Y8G("nzAutosize",e.lJ4(15,Fi)),e.R7$(5),e.Y8G("nzErrorTip",r),e.R7$(2),e.Y8G("ngForOf",a.submitPermissionOptions)}}function ji(n,s){1&n&&e.nrm(0,"nz-empty",44),2&n&&e.Y8G("nzNotFoundContent","\u8bf7\u9009\u62e9\u6570\u636e\u6a21\u578b")}function Bi(n,s){if(1&n&&(e.qex(0),e.j41(1,"div",45)(2,"div",46),e.nrm(3,"erupt-flow-form",47),e.k0s()(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("erupt",t.selectedErupt)("readonly",!1)}}function Gi(n,s){if(1&n&&(e.j41(0,"div",41)(1,"div",42),e.DNE(2,ji,1,1,"nz-empty",43),e.DNE(3,Bi,4,2,"ng-container",39),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",!t.selectedErupt),e.R7$(1),e.Y8G("ngIf",t.selectedErupt)}}function Vi(n,s){1&n&&(e.j41(0,"div",41),e.nrm(1,"erupt-flow"),e.k0s())}function $i(n,s){1&n&&(e.j41(0,"div",41)(1,"div",17),e.EFF(2," xxx "),e.k0s()())}let Te=(()=>{class n{constructor(t,o){this.fb=t,this.flowApiService=o,this.currentStep=1,this.saveStatus="\u8349\u7a3f (\u4fdd\u5b58\u4e8e1\u5206\u949f\u524d)",this.incompleteItems=2,this.eruptFlows=[],this.selectedIcon="fa fa-user",this.selectedColor="#1890ff",this.groupOptions=[],this.submitPermissionOptions=[{label:"\u5168\u5458",value:"all"},{label:"\u90e8\u95e8\u4e3b\u7ba1",value:"manager"},{label:"\u6307\u5b9a\u4eba\u5458",value:"specific"}],this.processAdmins=[{id:"1",name:"\u674e\u6708\u9e4f",avatar:"\u6708\u9e4f"}],this.flowForm=this.fb.group({name:["",[d.k0.required]],description:[""],group:["epidemic",[d.k0.required]],submitPermission:["all",[d.k0.required]],showOnWorkbench:[!1],prohibitAdminManage:[!1]})}ngOnInit(){this.flowForm.valueChanges.subscribe(()=>{this.updateIncompleteItems()}),this.flowApiService.eruptFlows().subscribe(t=>{this.eruptFlows=t.data}),this.flowApiService.groupList().subscribe(t=>{this.groupOptions=t.data})}onDocumentClick(t){}updateIncompleteItems(){let t=0;this.flowForm.get("name")?.value||t++,0===this.processAdmins.length&&t++,this.incompleteItems=t}switchStep(t){this.currentStep=t}onIconColorConfigChange(t){this.selectedIcon=t.icon,this.selectedColor=t.color,this.iconPopover&&this.iconPopover.hide()}getCurrentIconStyle(){return`background-color: ${this.selectedColor}`}addProcessAdmin(){console.log("\u6dfb\u52a0\u6d41\u7a0b\u7ba1\u7406\u5458")}deleteProcessAdmin(t){this.processAdmins=this.processAdmins.filter(o=>o.id!==t),this.updateIncompleteItems()}setAdminPermission(t){console.log("\u8bbe\u7f6e\u7ba1\u7406\u5458\u6743\u9650",t)}preview(){console.log("\u9884\u89c8\u5ba1\u6279\u6d41\u7a0b")}publish(){this.flowForm.valid&&this.processAdmins.length>0?console.log("\u53d1\u5e03\u5ba1\u6279\u6d41\u7a0b",this.flowForm.value):console.log("\u8868\u5355\u9a8c\u8bc1\u5931\u8d25\uff0c\u65e0\u6cd5\u53d1\u5e03")}goBack(){console.log("\u8fd4\u56de\u4e0a\u4e00\u9875")}getErrorMessage(t){const o=this.flowForm.get(t);return o?.errors&&o.touched&&o.errors.required?`${this.getFieldLabel(t)}\u4e3a\u7a7a,\u8bf7\u586b\u5199`:""}getFieldLabel(t){return{name:"\u540d\u79f0",group:"\u5206\u7ec4",submitPermission:"\u63d0\u4ea4\u6743\u9650"}[t]||""}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(d.ok),e.rXU(H))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-flow-config"]],viewQuery:function(o,i){if(1&o&&e.GBs(Oi,5),2&o){let r;e.mGM(r=e.lsd())&&(i.iconPopover=r.first)}},hostBindings:function(o,i){1&o&&e.bIt("click",function(a){return i.onDocumentClick(a)},!1,e.EBC)},decls:37,vars:12,consts:[[1,"flow-config-container"],[1,"header"],[1,"header-left"],["nz-button","","nzType","text",1,"back-btn",3,"click"],["nz-icon","","nzType","close"],[1,"title-section"],[1,"title"],[1,"header-center"],[1,"step-nav"],[1,"step-item",3,"click"],[1,"step-number"],[1,"step-text"],[1,"header-right"],["nz-button","","nzType","primary",1,"publish-btn",3,"click"],[1,"main-content"],["class","form-section",4,"ngIf"],["class","step-placeholder",4,"ngIf"],[1,"form-section"],["nz-form","",1,"flow-form",3,"formGroup"],[1,"form-item"],[1,"form-label","required"],[1,"icon-section"],[1,"icon-display"],[1,"icon-circle"],["nz-button","","nzType","link","nz-popover","","nzPopoverTrigger","click","nzPopoverPlacement","topRight",1,"modify-link",3,"nzPopoverContent"],["iconPopover",""],["iconSelectorContent",""],[3,"nzErrorTip"],["nz-input","","formControlName","name","placeholder","\u8bf7\u8f93\u5165\u540d\u79f0",1,"form-input"],["nameErrorTpl",""],["formControlName","group","placeholder","\u8bf7\u9009\u62e9\u5206\u7ec4",1,"form-select"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["groupErrorTpl",""],["formControlName","group",1,"form-select",3,"ngModel","ngModelChange"],[1,"form-label"],["nz-input","","formControlName","description","placeholder","\u8bf4\u660e",1,"form-textarea",3,"nzAutosize"],["formControlName","submitPermission","placeholder","\u8bf7\u9009\u62e9\u63d0\u4ea4\u6743\u9650",1,"form-select"],["permissionErrorTpl",""],[3,"selectedIcon","selectedColor","configChange"],[4,"ngIf"],[3,"nzValue","nzLabel"],[1,"step-placeholder"],[2,"display","flex","justify-content","center","height","100%","padding","16px"],["nzNotFoundImage","simple",3,"nzNotFoundContent",4,"ngIf"],["nzNotFoundImage","simple",3,"nzNotFoundContent"],[1,"phone-wrapper"],[1,"phone-wrapper-screen"],[3,"erupt","readonly"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return i.goBack()}),e.nrm(4,"i",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"h2",6),e.k0s()(),e.j41(7,"div",7)(8,"div",8)(9,"div",9),e.bIt("click",function(){return i.switchStep(1)}),e.j41(10,"span",10),e.EFF(11,"1"),e.k0s(),e.j41(12,"span",11),e.EFF(13,"\u57fa\u7840\u4fe1\u606f"),e.k0s()(),e.j41(14,"div",9),e.bIt("click",function(){return i.switchStep(2)}),e.j41(15,"span",10),e.EFF(16,"2"),e.k0s(),e.j41(17,"span",11),e.EFF(18,"\u8868\u5355\u9884\u89c8"),e.k0s()(),e.j41(19,"div",9),e.bIt("click",function(){return i.switchStep(3)}),e.j41(20,"span",10),e.EFF(21,"3"),e.k0s(),e.j41(22,"span",11),e.EFF(23,"\u6d41\u7a0b\u8bbe\u8ba1"),e.k0s()(),e.j41(24,"div",9),e.bIt("click",function(){return i.switchStep(4)}),e.j41(25,"span",10),e.EFF(26,"4"),e.k0s(),e.j41(27,"span",11),e.EFF(28,"\u66f4\u591a\u8bbe\u7f6e"),e.k0s()()()(),e.j41(29,"div",12)(30,"button",13),e.bIt("click",function(){return i.publish()}),e.EFF(31," \u53d1\u5e03 "),e.k0s()()(),e.j41(32,"div",14),e.DNE(33,Ri,53,16,"div",15),e.DNE(34,Gi,4,2,"div",16),e.DNE(35,Vi,2,0,"div",16),e.DNE(36,$i,3,0,"div",16),e.k0s()()),2&o&&(e.R7$(9),e.AVh("active",1===i.currentStep),e.R7$(5),e.AVh("active",2===i.currentStep),e.R7$(5),e.AVh("active",3===i.currentStep),e.R7$(5),e.AVh("active",4===i.currentStep),e.R7$(9),e.Y8G("ngIf",1===i.currentStep),e.R7$(1),e.Y8G("ngIf",2==i.currentStep),e.R7$(1),e.Y8G("ngIf",3==i.currentStep),e.R7$(1),e.Y8G("ngIf",4==i.currentStep))},dependencies:[l.Sq,l.bT,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,y.aO,O.c,S.p,ee.Uq,ee.e,q.L_,J.ld,J.WI,g.Dn,h.Sy,h.c9,A.CA,A.Ls,A.zS,I.RW,fi,xi,bi],styles:['.flow-config-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#f5f5f5}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;background-color:#fff;border-bottom:1px solid #e8e8e8;box-shadow:0 2px 8px #0000000f;z-index:1000}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{padding:4px 8px;border:none;background:transparent;color:#666;cursor:pointer}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1890ff}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#262626}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .draft-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-top:4px;font-size:12px;color:#8c8c8c;cursor:pointer}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .draft-status[_ngcontent-%COMP%]:hover{color:#1890ff}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]{display:flex;gap:32px}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:6px;cursor:pointer;transition:all .3s}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item.active[_ngcontent-%COMP%]{background-color:#e6f7ff;color:#1890ff}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background-color:#1890ff;color:#fff}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;background-color:#d9d9d9;color:#666;font-size:12px;font-weight:600}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .incomplete-items[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;font-size:12px;color:#ff4d4f;cursor:pointer}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .incomplete-items[_ngcontent-%COMP%]:hover{background-color:#fff2f0;border-radius:4px}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .preview-btn[_ngcontent-%COMP%]{border-color:#1890ff;color:#1890ff}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .publish-btn[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.main-content[_ngcontent-%COMP%]   .step-placeholder[_ngcontent-%COMP%]{height:100%}.main-content[_ngcontent-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]{width:340px;height:100%;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:32px;border:8px solid #2c3e50;box-shadow:0 20px 40px #00000026,0 8px 16px #0000001a,inset 0 1px #fff3,inset 0 -1px #0000001a;position:relative;margin:0 auto;display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%);width:120px;height:24px;background:#2c3e50;border-radius:0 0 12px 12px;z-index:10;pointer-events:none}.main-content[_ngcontent-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:8px;left:50%;transform:translate(-50%);width:120px;height:4px;background:#2c3e50;border-radius:2px;z-index:10;pointer-events:none}.main-content[_ngcontent-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]   .phone-wrapper-screen[_ngcontent-%COMP%]{flex:1;background:#fff;width:100%;padding:12px;border-radius:20px;border:2px solid rgba(255,255,255,.1);box-shadow:inset 0 2px 4px #0000001a,0 4px 8px #0000001a;position:relative;overflow:auto}.main-content[_ngcontent-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]   .phone-wrapper-screen[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:30%;background:linear-gradient(135deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 50%,transparent 100%);pointer-events:none;z-index:1}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{max-width:800px;padding:32px;background-color:#fff;margin:24px auto;box-shadow:0 2px 8px #0000000f}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{margin-bottom:24px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#262626}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-label.required[_ngcontent-%COMP%]:after{content:" *";color:#ff4d4f}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;position:relative}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-display[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px;color:#fff;box-shadow:0 4px 12px #00000026;transition:all .3s}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-display[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-display[_ngcontent-%COMP%]   .icon-info[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-display[_ngcontent-%COMP%]   .icon-info[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{font-size:12px;color:#8c8c8c}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .modify-link[_ngcontent-%COMP%]{color:#1890ff;padding:0;height:auto;border:none;background:transparent}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .modify-link[_ngcontent-%COMP%]:hover{color:#40a9ff}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#262626}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{color:#8c8c8c;cursor:pointer}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]:hover{color:#1890ff}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid #e8e8e8;border-radius:6px;background-color:#fafafa}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;color:#fff}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]{flex:1}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-actions[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{padding:0;height:auto;border:none;background:transparent;color:#1890ff;font-size:12px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-actions[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]:hover{color:#40a9ff}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-actions[_ngcontent-%COMP%]   .action-link.delete-link[_ngcontent-%COMP%]{color:#ff4d4f}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .admin-item[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-actions[_ngcontent-%COMP%]   .action-link.delete-link[_ngcontent-%COMP%]:hover{color:#ff7875}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .add-admin-btn[_ngcontent-%COMP%]{width:100%;height:48px;border:2px dashed #d9d9d9;border-radius:6px;background-color:transparent;color:#8c8c8c;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .add-admin-btn[_ngcontent-%COMP%]:hover{border-color:#1890ff;color:#1890ff}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .admin-section[_ngcontent-%COMP%]   .admin-list[_ngcontent-%COMP%]   .add-admin-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:12px;background:#fafafa;border-top:1px solid #e8e8e8}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;height:36px;border-radius:6px;font-weight:500;transition:all .3s ease}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;padding:12px 16px}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]{gap:16px}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{padding:6px 12px}.header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:20px}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90vw;max-width:400px;max-height:80vh;overflow-y:auto}.main-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .flow-form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-section-selector[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}']})}}return n})();function Ai(n,s){1&n&&e.nrm(0,"span",29)}function Li(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.selectCategory(r.name))}),e.j41(1,"div",31)(2,"span",18),e.EFF(3),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()(),e.j41(6,"div",32)(7,"button",33),e.bIt("click",function(i){const a=e.eBV(t).$implicit;return e.XpG().onEditGroup(a),e.Njj(i.stopPropagation())}),e.nrm(8,"span",34),e.k0s(),e.j41(9,"button",35),e.bIt("click",function(i){const a=e.eBV(t).$implicit;return e.XpG().onDeleteGroup(a),e.Njj(i.stopPropagation())}),e.nrm(10,"span",36),e.k0s(),e.j41(11,"button",37),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(12,"span"),e.EFF(13,"\u22ee\u22ee"),e.k0s()()()()}if(2&n){const t=s.$implicit,o=e.XpG();e.AVh("active",o.selectedCategory===t.name),e.R7$(3),e.JRh(t.name),e.R7$(2),e.SpI("(",t.count,")")}}function Xi(n,s){1&n&&(e.j41(0,"nz-tag",52),e.EFF(1," \u5df2\u505c\u7528 "),e.k0s())}function Yi(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"div",40),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",41)(5,"div",42),e.EFF(6),e.DNE(7,Xi,2,0,"nz-tag",43),e.k0s(),e.j41(8,"div",44),e.EFF(9),e.k0s()()(),e.j41(10,"div",45)(11,"button",46),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onEdit(r))}),e.nrm(12,"span",34),e.k0s(),e.j41(13,"button",47),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onDuplicate(r))}),e.nrm(14,"span",48),e.k0s(),e.j41(15,"button",49),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onToggleVisibility(r))}),e.nrm(16,"span",50),e.k0s(),e.j41(17,"button",51),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onDelete(r))}),e.nrm(18,"span",36),e.k0s()()()}if(2&n){const t=s.$implicit;e.R7$(2),e.xc7("background-color",t.color||"#1890ff"),e.R7$(1),e.HbH(t.icon||"fa fa-dot-circle-o"),e.R7$(3),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("ngIf",!t.enable),e.R7$(2),e.JRh(t.remark||""),e.R7$(6),e.Y8G("nz-tooltip",t.enable?"\u505c\u7528":"\u542f\u7528"),e.R7$(1),e.xc7("color",t.enable?"":"#52c41a"),e.Y8G("nzType",t.enable?"stop":"check")}}function Hi(n,s){1&n&&(e.j41(0,"div",53),e.nrm(1,"nz-empty",54),e.k0s()),2&n&&(e.R7$(1),e.Y8G("nzNotFoundImage","simple"))}function Ui(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"input",55),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.createGroupName=i)})("keyup.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleCreateGroup())}),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngModel",t.createGroupName)}}function Qi(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"input",55),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.editGroupName=i)})("keyup.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleEditGroup())}),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngModel",t.editGroupName)}}const Wi=[{path:"",redirectTo:"management",pathMatch:"full"},{path:"management",component:(()=>{class n{constructor(t,o,i,r){this.flowApiService=t,this.message=o,this.modal=i,this.drawerService=r,this.searchValue="",this.flowConfigs=[],this.categories=[],this.selectedCategory="",this.categoryItems=[],this.loading=!1,this.configLoading=!1,this.isCreateModalVisible=!1,this.isEditModalVisible=!1,this.createGroupName="",this.editGroupName="",this.editingGroup=null}ngOnInit(){this.loadGroups(),this.loadFlowConfigs()}loadGroups(){this.loading=!0,this.flowApiService.groupList().subscribe(t=>{this.categoryItems=t.data.map((o,i)=>({id:o.id,name:o.name,sort:o.sort||i,count:this.getConfigsByCategory(o.name).length})),this.categoryItems.sort((o,i)=>o.sort-i.sort),this.categories=this.categoryItems.map(o=>o.name),this.loading=!1})}loadFlowConfigs(){this.configLoading=!0,this.flowApiService.configList().subscribe({next:t=>{t.success&&(this.flowConfigs=t.data,this.updateCategoryCounts()),this.configLoading=!1},error:t=>{this.configLoading=!1}})}updateCategoryCounts(){this.categoryItems.forEach(t=>{t.count=this.getConfigsByCategory(t.name).length})}getConfigsByCategory(t){return this.flowConfigs.filter(o=>o.flowGroup?.name===t)}selectCategory(t){this.selectedCategory=t}getCurrentConfigs(){let t=this.flowConfigs;if(this.selectedCategory&&(t=this.getConfigsByCategory(this.selectedCategory)),this.searchValue.trim()){const o=this.searchValue.toLowerCase().trim();t=t.filter(i=>i.name.toLowerCase().includes(o)||i.remark&&i.remark.toLowerCase().includes(o))}return t}onSearch(){console.log("\u641c\u7d22:",this.searchValue)}onCreateGroup(){this.createGroupName="",this.isCreateModalVisible=!0}handleCreateGroup(){this.createGroupName&&this.createGroupName.trim()?this.addGroup(this.createGroupName.trim()):this.message.warning("\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0")}handleCreateCancel(){this.isCreateModalVisible=!1,this.createGroupName=""}addGroup(t){this.flowApiService.groupAdd(t).subscribe({next:o=>{o.success?(this.message.success("\u5206\u7ec4\u521b\u5efa\u6210\u529f"),this.isCreateModalVisible=!1,this.createGroupName="",this.loadGroups()):this.message.error(o.message||"\u521b\u5efa\u5206\u7ec4\u5931\u8d25")},error:o=>{console.error("\u521b\u5efa\u5206\u7ec4\u5931\u8d25:",o),this.message.error("\u521b\u5efa\u5206\u7ec4\u5931\u8d25")}})}onEditGroup(t){this.editingGroup=t,this.editGroupName=t.name,this.isEditModalVisible=!0}handleEditGroup(){this.editGroupName&&this.editGroupName.trim()&&this.editingGroup?.id?this.editGroup(this.editingGroup.id,this.editGroupName.trim()):this.message.warning("\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0")}handleEditCancel(){this.isEditModalVisible=!1,this.editGroupName="",this.editingGroup=null}editGroup(t,o){this.flowApiService.groupEdit(t,o).subscribe({next:i=>{i.success?(this.message.success("\u5206\u7ec4\u7f16\u8f91\u6210\u529f"),this.isEditModalVisible=!1,this.editGroupName="",this.editingGroup=null,this.loadGroups()):this.message.error(i.message||"\u7f16\u8f91\u5206\u7ec4\u5931\u8d25")},error:i=>{console.error("\u7f16\u8f91\u5206\u7ec4\u5931\u8d25:",i),this.message.error("\u7f16\u8f91\u5206\u7ec4\u5931\u8d25")}})}onDeleteGroup(t){t.id&&this.modal.confirm({nzTitle:"\u786e\u8ba4\u5220\u9664",nzContent:`\u786e\u5b9a\u8981\u5220\u9664\u5206\u7ec4"${t.name}"\u5417\uff1f`,nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{this.flowApiService.groupDelete(t.id).subscribe({next:o=>{o.success?(this.message.success("\u5206\u7ec4\u5220\u9664\u6210\u529f"),this.loadGroups()):this.message.error(o.message||"\u5220\u9664\u5206\u7ec4\u5931\u8d25")},error:o=>{console.error("\u5220\u9664\u5206\u7ec4\u5931\u8d25:",o),this.message.error("\u5220\u9664\u5206\u7ec4\u5931\u8d25")}})}})}onDrop(t){(0,D.HD)(this.categoryItems,t.previousIndex,t.currentIndex),this.categoryItems.forEach((o,i)=>{o.sort=i}),this.categories=this.categoryItems.map(o=>o.name),this.sortGroups()}sortGroups(){const t=this.categoryItems.map(o=>o.id).filter(o=>void 0!==o);0!==t.length&&this.flowApiService.groupSort(t).subscribe({next:o=>{o.success?console.log("\u5206\u7ec4\u6392\u5e8f\u6210\u529f"):this.message.error(o.message||"\u5206\u7ec4\u6392\u5e8f\u5931\u8d25")},error:o=>{console.error("\u5206\u7ec4\u6392\u5e8f\u5931\u8d25:",o),this.message.error("\u5206\u7ec4\u6392\u5e8f\u5931\u8d25")}})}onCreateApproval(){this.drawerService.create({nzTitle:null,nzWidth:"90%",nzClosable:!1,nzContent:Te,nzBodyStyle:{padding:"0px"}})}onEdit(t){this.drawerService.create({nzTitle:null,nzWidth:"90%",nzClosable:!1,nzContent:Te,nzBodyStyle:{padding:"0px"}})}onDuplicate(t){console.log("\u590d\u5236:",t.name)}onToggleVisibility(t){t.enable=!t.enable}onDelete(t){console.log("\u5220\u9664:",t.name)}onMoreActions(t){console.log("\u66f4\u591a\u64cd\u4f5c:",t.name)}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(H),e.rXU(Q.xh),e.rXU(L.N_),e.rXU($.Nf))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow-management"]],decls:37,vars:12,consts:[[1,"flow-management-container"],[1,"header-section"],[1,"search-area"],[3,"nzSuffix"],["nz-input","","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange"],["searchIcon",""],[1,"action-buttons"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[1,"content-layout"],[1,"category-sidebar"],[1,"sidebar-header"],[1,"header-title"],[1,"header-actions"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u65b0\u5efa\u5206\u7ec4",3,"click"],["cdkDropList","",1,"category-list",3,"cdkDropListDropped"],[3,"nzSpinning"],[1,"category-item",3,"click"],[1,"category-name"],[1,"category-count"],["class","category-item draggable-item","cdkDrag","",3,"active","click",4,"ngFor","ngForOf"],[1,"app-content"],[1,"app-list"],["nzSize","large",3,"nzSpinning"],["class","app-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["nzTitle","\u65b0\u5efa\u5206\u7ec4",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzTitle","\u7f16\u8f91\u5206\u7ec4",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-icon","","nzType","search"],["cdkDrag","",1,"category-item","draggable-item",3,"click"],[1,"category-content"],[1,"category-actions"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u7f16\u8f91\u5206\u7ec4",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u5220\u9664\u5206\u7ec4",3,"click"],["nz-icon","","nzType","delete"],["nz-button","","nzType","text","nzSize","small","cdkDragHandle","",3,"click"],[1,"app-item"],[1,"app-info"],[1,"app-icon"],[1,"app-details"],[1,"app-name"],["nzColor","red",4,"ngIf"],[1,"app-description"],[1,"action-icons"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u7f16\u8f91",3,"click"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u590d\u5236",3,"click"],["nz-icon","","nzType","copy"],["nz-button","","nzType","text","nzSize","small",3,"nz-tooltip","click"],["nz-icon","",3,"nzType"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u5220\u9664",3,"click"],["nzColor","red"],[1,"empty-state"],[2,"margin-top","20%",3,"nzNotFoundImage"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0",2,"width","100%",3,"ngModel","ngModelChange","keyup.enter"]],template:function(o,i){if(1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-input-group",3)(4,"input",4),e.bIt("ngModelChange",function(a){return i.searchValue=a})("ngModelChange",function(){return i.onSearch()}),e.k0s()(),e.DNE(5,Ai,1,0,"ng-template",null,5,e.C5r),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return i.onCreateApproval()}),e.nrm(9,"span",8),e.EFF(10," \u521b\u5efa\u6d41\u7a0b "),e.k0s()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"h3"),e.EFF(16,"\u6d41\u7a0b\u5206\u7c7b"),e.k0s()(),e.j41(17,"div",13)(18,"button",14),e.bIt("click",function(){return i.onCreateGroup()}),e.nrm(19,"span",8),e.k0s()()(),e.j41(20,"div",15),e.bIt("cdkDropListDropped",function(a){return i.onDrop(a)}),e.j41(21,"nz-spin",16)(22,"div",17),e.bIt("click",function(){return i.selectCategory("")}),e.j41(23,"span",18),e.EFF(24,"\u5168\u90e8"),e.k0s(),e.j41(25,"span",19),e.EFF(26),e.k0s()(),e.DNE(27,Li,14,4,"div",20),e.k0s()()(),e.j41(28,"div",21)(29,"div",22)(30,"nz-spin",23),e.DNE(31,Yi,19,11,"div",24),e.DNE(32,Hi,2,1,"div",25),e.k0s()()()()(),e.j41(33,"nz-modal",26),e.bIt("nzVisibleChange",function(a){return i.isCreateModalVisible=a})("nzOnCancel",function(){return i.handleCreateCancel()})("nzOnOk",function(){return i.handleCreateGroup()}),e.DNE(34,Ui,3,1,"ng-container",27),e.k0s(),e.j41(35,"nz-modal",28),e.bIt("nzVisibleChange",function(a){return i.isEditModalVisible=a})("nzOnCancel",function(){return i.handleEditCancel()})("nzOnOk",function(){return i.handleEditGroup()}),e.DNE(36,Qi,3,1,"ng-container",27),e.k0s()),2&o){const r=e.sdS(6);e.R7$(3),e.Y8G("nzSuffix",r),e.R7$(1),e.Y8G("ngModel",i.searchValue),e.R7$(17),e.Y8G("nzSpinning",!1),e.R7$(1),e.AVh("active",""===i.selectedCategory),e.R7$(4),e.SpI("(",i.flowConfigs.length,")"),e.R7$(1),e.Y8G("ngForOf",i.categoryItems),e.R7$(3),e.Y8G("nzSpinning",i.configLoading),e.R7$(1),e.Y8G("ngForOf",i.getCurrentConfigs()),e.R7$(1),e.Y8G("ngIf",!i.configLoading&&0===i.getCurrentConfigs().length),e.R7$(1),e.Y8G("nzVisible",i.isCreateModalVisible),e.R7$(2),e.Y8G("nzVisible",i.isEditModalVisible)}},dependencies:[l.Sq,l.bT,d.me,d.BC,d.vS,y.aO,O.c,S.p,P.LH,g.Dn,L.F2,L.A9,h.Sy,h.tg,h.vN,_e.s,ue.a,D.O7,D.T1,D.Fb,I.RW],styles:[".flow-management-container[_ngcontent-%COMP%]{padding:16px;margin:0 auto;background:#f0f2f5;height:calc(100vh - 44px);display:flex;flex-direction:column;border-radius:6px}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:16px 20px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008;flex-shrink:0}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]{flex:1;max-width:320px}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;height:32px;padding:0 16px;font-weight:400;transition:all .2s ease}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[nzType=primary][_ngcontent-%COMP%]{background:#1890ff;border-color:#1890ff;color:#fff}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[nzType=primary][_ngcontent-%COMP%]:hover{background:#40a9ff;border-color:#40a9ff}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[nzType=primary][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:4px}.content-layout[_ngcontent-%COMP%]{display:flex;flex:1;gap:16px;min-height:0}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]{width:260px;background:#fff;padding:16px;flex-shrink:0;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#262626}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;padding:0;display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid #d9d9d9;background:#fff;color:#595959;transition:all .2s ease}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#1890ff;color:#1890ff}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;display:flex;flex-direction:column}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;margin-bottom:6px;border-radius:4px;cursor:pointer;transition:all .2s ease;border:1px solid transparent;min-height:44px;max-height:44px;box-sizing:border-box;white-space:nowrap;overflow:visible;position:relative}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;z-index:5}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.active[_ngcontent-%COMP%]{background:#e6f7ff;border-color:#91d5ff;z-index:5}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.active[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#1890ff;font-weight:500}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.active[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{background:#1890ff;color:#fff}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.draggable-item[_ngcontent-%COMP%]{cursor:grab;background:#fff;border:1px solid #f0f0f0}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.draggable-item[_ngcontent-%COMP%]:hover{background:#fafafa;border-color:#d9d9d9}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.draggable-item[_ngcontent-%COMP%]:active{cursor:grabbing}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;min-width:0;overflow:hidden}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:14px;color:#595959;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:12px;color:#8c8c8c;background:#f5f5f5;padding:2px 8px;border-radius:10px;font-weight:400;flex-shrink:0;margin-left:8px;z-index:1;position:relative}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;opacity:0;transition:opacity .2s ease;margin-left:8px;flex-shrink:0;white-space:nowrap;overflow:hidden;position:absolute;right:12px;top:50%;transform:translateY(-50%);background:#fff;padding:2px;border-radius:4px;box-shadow:0 2px 8px #0000001a;z-index:10;pointer-events:auto}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;color:#bfbfbf;padding:4px;border-radius:4px;transition:all .2s ease;min-width:24px;min-height:24px;max-width:24px;max-height:24px;display:flex;align-items:center;justify-content:center;flex-shrink:0;white-space:nowrap;overflow:hidden;pointer-events:auto}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#1890ff}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover   .category-actions[_ngcontent-%COMP%]{opacity:1}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .drag-handle-btn[_ngcontent-%COMP%]{margin-left:8px;border:none;background:transparent;color:#bfbfbf;cursor:grab;padding:0 4px;border-radius:4px;transition:background .2s,color .2s;min-width:28px;min-height:28px;display:flex;align-items:center;justify-content:center}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .drag-handle-btn[_ngcontent-%COMP%]:hover, .content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .drag-handle-btn[_ngcontent-%COMP%]:focus{background:#f0f0f0;color:#1890ff}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .drag-handle-btn[_ngcontent-%COMP%]:active{cursor:grabbing}.content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .drag-handle-btn[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{font-size:14px;line-height:1;letter-spacing:-1px}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:6px;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008;display:flex;flex-direction:column;min-height:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;background:#fafafa}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#262626}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .app-count[_ngcontent-%COMP%]{font-size:14px;color:#8c8c8c;background:#f5f5f5;padding:4px 12px;border-radius:12px;font-weight:400}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px;color:#8c8c8c}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;transition:all .2s ease;background:#fff}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]:hover{border-color:#d9d9d9;background:#fafafa}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;min-width:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;margin-right:12px;flex-shrink:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:16px}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-details[_ngcontent-%COMP%]{flex:1;min-width:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-details[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px;display:flex;align-items:center;gap:8px}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-details[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]{font-size:12px;color:#8c8c8c;line-height:1.4;margin:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .visibility-status[_ngcontent-%COMP%]{width:100px;text-align:center;margin:0 16px}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .visibility-status[_ngcontent-%COMP%]   .visibility-text[_ngcontent-%COMP%]{font-size:12px;color:#52c41a;font-weight:400}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex-shrink:0}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;padding:0;display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid transparent;background:transparent;color:#8c8c8c;transition:all .2s ease}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#262626}.content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 768px){.flow-management-container[_ngcontent-%COMP%]{padding:12px;height:auto}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch;padding:12px}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]{max-width:none}.flow-management-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-end}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]{width:100%;order:2;padding:12px}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .category-sidebar[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{flex:1;min-width:100px;margin-bottom:0}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]{order:1}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%], .flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]{padding:12px}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .visibility-status[_ngcontent-%COMP%]{width:auto;text-align:left;margin:0}.flow-management-container[_ngcontent-%COMP%]   .content-layout[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .app-list[_ngcontent-%COMP%]   .app-item[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{align-self:flex-end}}"]})}}return n})(),data:{desc:"Flow",status:!0}}];let Zi=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[Pe.iI.forChild(Wi),Pe.iI]})}}return n})();var Ki=c(2602),Ji=c(4959),qi=c(7060);let er=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[H],imports:[Ji.G,Zi,l.MD,d.YN,d.X1,Se.q1,D.ad,y.Zw,h.j,$.eq,Q.Sg,g.Y3,lt,A.PQ,J.DH,ge.IJ,pt.Sw,dt.LE,gt.eT,_t.$,mt.Sk,ut.jw,ht.SE,L.U6,ft.g9,P.Qt,q.MC,Ct.Ti,zt.g,bt,ee.f3,wt,St.GP,At,Lt.hM,Xt.$G,Yt.rD,Ht.Yb,Ut.W2,_e.T,me.m,ue.V,Qt.i3,Wt.$,Zt.K9,Kt.sH,I._v,bn,En,Xn,Yn.GB,Hn.xQ,so,ao.x2,No,wo.jl,So.GP,Ki.Cu,qi.EruptModule]})}}return n})();e.wjB(V,[l.bT,d.me,d.BC,d.vS,y.aO,O.c,S.p,P.VJ,g.Dn,$.vg,$.wk,Me],[]),e.wjB(ne,[l.bT,d.me,d.BC,d.vS,O.c,P.VJ,g.Dn,ct,Me],[])}}]);